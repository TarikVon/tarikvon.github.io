<!doctypehtml><html lang=zh-CN><meta charset=UTF-8><meta content=width=device-width name=viewport><meta content=#222 name=theme-color><meta content="Hexo 7.0.0" name=generator><link href=/images/apple-touch-icon-von.png rel=apple-touch-icon sizes=180x180><link href=/images/von-32x32-next.png rel=icon sizes=32x32 type=image/png><link href=/images/von-16x16-next.png rel=icon sizes=16x16 type=image/png><link color=#222 href=/images/apple-touch-icon-von.png rel=mask-icon><link href=/css/main.css rel=stylesheet><link crossorigin=anonymous href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css integrity=sha256-CTSx/A06dm1B063156EVh15m6Y67pAjZZaQc89LLSrU= rel=stylesheet><link crossorigin=anonymous href=https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css integrity=sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE= rel=stylesheet><script class=next-config data-name=main type=application/json>{"hostname":"www.tarikvon.cn","root":"/","images":"/images","scheme":"Pisces","darkmode":false,"version":"8.18.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"}}</script><script src=/js/config.js></script><meta content="Python: Matplotlib & Seaborn 模块学习笔记" name=description><meta content=article property=og:type><meta content="Python: Matplotlib & Seaborn" property=og:title><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/index.html property=og:url><meta content="Von's Blog" property=og:site_name><meta content="Python: Matplotlib & Seaborn 模块学习笔记" property=og:description><meta content=zh_CN property=og:locale><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/images/notes/matplotlib/1.2.1.svg property=og:image><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/images/notes/matplotlib/1.2.2.svg property=og:image><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/images/notes/matplotlib/1.2.3.svg property=og:image><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/images/notes/matplotlib/1.4.1.svg property=og:image><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/images/notes/matplotlib/1.4.2.svg property=og:image><meta content=https://matplotlib.org/stable/_images/m00.png property=og:image><meta content=https://matplotlib.org/stable/_images/m01.png property=og:image><meta content=https://matplotlib.org/stable/_images/m02.png property=og:image><meta content=https://matplotlib.org/stable/_images/m03.png property=og:image><meta content=https://matplotlib.org/stable/_images/m04.png property=og:image><meta content=https://matplotlib.org/stable/_images/m05.png property=og:image><meta content=https://matplotlib.org/stable/_images/m06.png property=og:image><meta content=https://matplotlib.org/stable/_images/m07.png property=og:image><meta content=https://matplotlib.org/stable/_images/m08.png property=og:image><meta content=https://matplotlib.org/stable/_images/m09.png property=og:image><meta content=https://matplotlib.org/stable/_images/m10.png property=og:image><meta content=https://matplotlib.org/stable/_images/m11.png property=og:image><meta content=https://matplotlib.org/stable/_images/m12.png property=og:image><meta content=https://matplotlib.org/stable/_images/m13.png property=og:image><meta content=https://matplotlib.org/stable/_images/m23.png property=og:image><meta content=https://matplotlib.org/stable/_images/m14.png property=og:image><meta content=https://matplotlib.org/stable/_images/m15.png property=og:image><meta content=https://matplotlib.org/stable/_images/m16.png property=og:image><meta content=https://matplotlib.org/stable/_images/m17.png property=og:image><meta content=https://matplotlib.org/stable/_images/m18.png property=og:image><meta content=https://matplotlib.org/stable/_images/m24.png property=og:image><meta content=https://matplotlib.org/stable/_images/m19.png property=og:image><meta content=https://matplotlib.org/stable/_images/m20.png property=og:image><meta content=https://matplotlib.org/stable/_images/m21.png property=og:image><meta content=https://matplotlib.org/stable/_images/m22.png property=og:image><meta content=https://matplotlib.org/stable/_images/m25.png property=og:image><meta content=https://matplotlib.org/stable/_images/m26.png property=og:image><meta content=https://matplotlib.org/stable/_images/m27.png property=og:image><meta content=https://matplotlib.org/stable/_images/m28.png property=og:image><meta content=https://matplotlib.org/stable/_images/m29.png property=og:image><meta content=https://matplotlib.org/stable/_images/m30.png property=og:image><meta content=https://matplotlib.org/stable/_images/m31.png property=og:image><meta content=https://matplotlib.org/stable/_images/m32.png property=og:image><meta content=https://matplotlib.org/stable/_images/m33.png property=og:image><meta content=https://matplotlib.org/stable/_images/m34.png property=og:image><meta content=https://matplotlib.org/stable/_images/m35.png property=og:image><meta content=https://matplotlib.org/stable/_images/m36.png property=og:image><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/images/notes/matplotlib/1.5.1.svg property=og:image><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/images/notes/matplotlib/1.5.2.svg property=og:image><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/images/notes/matplotlib/1.5.3.svg property=og:image><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/images/notes/matplotlib/1.5.4.svg property=og:image><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/images/notes/matplotlib/1.5.5.svg property=og:image><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/images/notes/matplotlib/1.6.1.svg property=og:image><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/images/notes/matplotlib/1.7.1.svg property=og:image><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/images/notes/matplotlib/1.7.2.svg property=og:image><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/images/notes/matplotlib/1.8.1.svg property=og:image><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/images/notes/matplotlib/1.8.2.svg property=og:image><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/images/notes/matplotlib/1.9.1.svg property=og:image><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/images/notes/matplotlib/1.10.1.svg property=og:image><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/images/notes/matplotlib/1.11.1.svg property=og:image><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/images/notes/matplotlib/1.12.1.svg property=og:image><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/images/notes/matplotlib/1.13.1.svg property=og:image><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/images/notes/matplotlib/1.14.1.svg property=og:image><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/images/notes/matplotlib/1.14.2.svg property=og:image><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/images/notes/matplotlib/1.14.3.svg property=og:image><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/images/notes/matplotlib/1.15.1.svg property=og:image><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/images/notes/matplotlib/1.15.2.svg property=og:image><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/images/notes/matplotlib/1.15.3.svg property=og:image><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/images/notes/matplotlib/1.16.1.svg property=og:image><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/images/notes/matplotlib/1.16.3.svg property=og:image><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/images/notes/matplotlib/1.16.2.svg property=og:image><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/images/notes/matplotlib/1.16.4.svg property=og:image><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/images/notes/matplotlib/1.17.1.svg property=og:image><meta content=https://i-blog.csdnimg.cn/blog_migrate/29437f3b9232d37327868f74a0aa89c5.png property=og:image><meta content=https://i-blog.csdnimg.cn/blog_migrate/99db76ed7cf348d2b36e8fee30bd52f0.png property=og:image><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/images/notes/matplotlib/1.18.1.svg property=og:image><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/images/notes/matplotlib/1.19.1.svg property=og:image><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/images/notes/matplotlib/1.20.1.svg property=og:image><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/images/notes/matplotlib/1.20.2.svg property=og:image><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/images/notes/matplotlib/1.21.1.svg property=og:image><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/images/notes/matplotlib/1.22.1.svg property=og:image><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/images/notes/matplotlib/1.23.1.svg property=og:image><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/images/notes/matplotlib/1.24.1.svg property=og:image><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/images/notes/matplotlib/1.24.2.svg property=og:image><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/images/notes/matplotlib/1.24.3.svg property=og:image><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/images/notes/matplotlib/1.25.1.svg property=og:image><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/images/notes/matplotlib/1.25.2.svg property=og:image><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/images/notes/matplotlib/1.25.3.svg property=og:image><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/images/notes/matplotlib/1.26.1.svg property=og:image><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/images/notes/matplotlib/1.26.2.svg property=og:image><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/images/notes/matplotlib/1.26.3.svg property=og:image><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/images/notes/matplotlib/1.26.4.svg property=og:image><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/images/notes/matplotlib/1.26.5.svg property=og:image><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/images/notes/matplotlib/2.3.1.svg property=og:image><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/images/notes/matplotlib/2.3.2.svg property=og:image><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/images/notes/matplotlib/2.4.1.svg property=og:image><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/images/notes/matplotlib/2.5.1.svg property=og:image><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/images/notes/matplotlib/2.5.2.svg property=og:image><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/images/notes/matplotlib/2.6.1.svg property=og:image><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/images/notes/matplotlib/2.7.1.svg property=og:image><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/images/notes/matplotlib/2.8.1.svg property=og:image><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/images/notes/matplotlib/2.8.2.svg property=og:image><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/images/notes/matplotlib/2.8.3.svg property=og:image><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/images/notes/matplotlib/2.9.1.svg property=og:image><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/images/notes/matplotlib/2.10.1.svg property=og:image><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/images/notes/matplotlib/2.10.2.svg property=og:image><meta content=2024-12-16T01:01:18.000Z property=article:published_time><meta content=2025-10-17T07:21:41.815Z property=article:modified_time><meta content="Tarik Von" property=article:author><meta content=Python property=article:tag><meta content=Python3 property=article:tag><meta content=module property=article:tag><meta content=Matplotlib property=article:tag><meta content=Seaborn property=article:tag><meta content=summary name=twitter:card><meta content=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/images/notes/matplotlib/1.2.1.svg name=twitter:image><link href=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/ rel=canonical><script class=next-config data-name=page type=application/json>{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/","path":"2024/12/16/Python-Matplotlib/","title":"Python: Matplotlib & Seaborn"}</script><script class=next-config data-name=calendar type=application/json>""</script><title>Python: Matplotlib & Seaborn | Von's Blog</title><script src=/js/third-party/analytics/baidu-analytics.js></script><script async src=https://hm.baidu.com/hm.js?82f83f20674b422f119ed5514b2b3c7d></script><script async src=/lib/fireworks.js></script><noscript><link href=/css/noscript.css rel=stylesheet></noscript><!-- hexo injector head_end start --><link href=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css rel=stylesheet><link href=https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css rel=stylesheet><!-- hexo injector head_end end --><body class=use-motion itemscope itemtype=http://schema.org/WebPage><div class=headband></div><main class=main><div class=column><header class=header itemscope itemtype=http://schema.org/WPHeader><div class=site-brand-container><div class=site-nav-toggle><div aria-label=切换导航栏 class=toggle role=button><span class=toggle-line></span><span class=toggle-line></span><span class=toggle-line></span></div></div><div class=site-meta><a class=brand href=/ rel=start> <i class=logo-line></i> <p class=site-title>Von's Blog</p> <i class=logo-line></i> </a><p class=site-subtitle itemprop=description>冯格列斯酒馆绝赞营业中~</div><div class=site-nav-right><div class="toggle popup-trigger" aria-label=搜索 role=button></div></div></div><nav class=site-nav><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href=/ rel=section><i class="fa fa-home fa-fw"></i>首页</a><li class="menu-item menu-item-about"><a href=/about/ rel=section><i class="fa fa-user fa-fw"></i>关于</a><li class="menu-item menu-item-tags"><a href=/tags/ rel=section><i class="fa fa-tags fa-fw"></i>标签</a><li class="menu-item menu-item-categories"><a href=/categories/ rel=section><i class="fa fa-th fa-fw"></i>分类</a><li class="menu-item menu-item-archives"><a href=/archives/ rel=section><i class="fa fa-archive fa-fw"></i>归档</a><li class="menu-item menu-item-tools"><a href=/tools/ rel=section><i class="fa fa-toolbox fa-fw"></i>工具箱</a></ul></nav></header><aside class=sidebar><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class=sidebar-nav><li class=sidebar-nav-toc>文章目录<li class=sidebar-nav-overview>站点概览</ul><div class=sidebar-panel-container><!--noindex--><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class=nav><li class="nav-item nav-level-1"><a class=nav-link href=#part-i-matplotlib><span class=nav-number>1.</span> <span class=nav-text> Part I. Matplotlib</span></a><ol class=nav-child><li class="nav-item nav-level-2"><a class=nav-link href=#matplotlib><span class=nav-number>1.1.</span> <span class=nav-text> Matplotlib</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E4%BB%8E%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E4%BE%8B%E5%AD%90%E5%BC%80%E5%A7%8B><span class=nav-number>1.2.</span> <span class=nav-text> 从一个简单的例子开始</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#pyplot-%E6%96%B9%E6%B3%95><span class=nav-number>1.3.</span> <span class=nav-text> pyplot 方法</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E6%8A%98%E7%BA%BF%E5%9B%BE><span class=nav-number>1.4.</span> <span class=nav-text> 折线图</span></a><ol class=nav-child><li class="nav-item nav-level-3"><a class=nav-link href=#%E7%AE%80%E5%8D%95%E6%8A%98%E7%BA%BF%E5%9B%BE><span class=nav-number>1.4.1.</span> <span class=nav-text> 简单折线图</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E6%9C%89%E4%B8%A4%E6%9D%A1%E7%BA%BF%E7%9A%84%E6%8A%98%E7%BA%BF%E5%9B%BE><span class=nav-number>1.4.2.</span> <span class=nav-text> 有两条线的折线图</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E5%AE%9A%E5%88%B6%E6%8A%98%E7%BA%BF%E5%9B%BE><span class=nav-number>1.4.3.</span> <span class=nav-text> 定制折线图</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E7%BA%BF%E6%9D%A1%E6%A0%87%E8%AE%B0><span class=nav-number>1.4.4.</span> <span class=nav-text> 线条标记</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E9%A2%9C%E8%89%B2><span class=nav-number>1.4.5.</span> <span class=nav-text> 颜色</span></a></ol><li class="nav-item nav-level-2"><a class=nav-link href=#%E6%9F%B1%E5%BD%A2%E5%9B%BE><span class=nav-number>1.5.</span> <span class=nav-text> 柱形图</span></a><ol class=nav-child><li class="nav-item nav-level-3"><a class=nav-link href=#%E7%AE%80%E5%8D%95%E6%9F%B1%E5%BD%A2%E5%9B%BE><span class=nav-number>1.5.1.</span> <span class=nav-text> 简单柱形图</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E6%9F%B1%E5%BD%A2%E5%9B%BE%E5%A0%86%E7%A7%AF%E6%9F%B1%E5%BD%A2%E5%9B%BE><span class=nav-number>1.5.2.</span> <span class=nav-text> 柱形图（堆积柱形图）</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E6%9F%B1%E5%BD%A2%E5%9B%BE%E7%B0%87%E7%8A%B6%E6%9F%B1%E5%BD%A2%E5%9B%BE><span class=nav-number>1.5.3.</span> <span class=nav-text> 柱形图（簇状柱形图）</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E5%9B%BE%E4%BE%8B-loc-%E5%8F%82%E6%95%B0%E7%9A%84%E8%A1%A8%E7%A4%BA%E6%96%B9%E6%B3%95><span class=nav-number>1.5.4.</span> <span class=nav-text> 图例 loc 参数的表示方法</span></a></ol><li class="nav-item nav-level-2"><a class=nav-link href=#%E6%9D%A1%E5%BD%A2%E5%9B%BE><span class=nav-number>1.6.</span> <span class=nav-text> 条形图</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E7%9B%B4%E6%96%B9%E5%9B%BE><span class=nav-number>1.7.</span> <span class=nav-text> 直方图</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E6%95%A3%E7%82%B9%E5%9B%BE><span class=nav-number>1.8.</span> <span class=nav-text> 散点图</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E9%A5%BC%E5%9B%BE><span class=nav-number>1.9.</span> <span class=nav-text> 饼图</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E7%9B%92%E5%9B%BE><span class=nav-number>1.10.</span> <span class=nav-text> 盒图</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E5%B0%8F%E6%8F%90%E7%90%B4%E5%9B%BE><span class=nav-number>1.11.</span> <span class=nav-text> 小提琴图</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E7%BB%98%E5%88%B6%E7%BB%99%E5%AE%9A%E6%96%B9%E7%A8%8B%E7%9A%84%E6%9B%B2%E7%BA%BF><span class=nav-number>1.12.</span> <span class=nav-text> 绘制给定方程的曲线</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E7%BB%98%E5%88%B6%E6%9E%81%E7%BA%BF%E5%9B%BE><span class=nav-number>1.13.</span> <span class=nav-text> 绘制极线图</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#figure-%E5%9B%BE%E5%BD%A2%E5%AF%B9%E8%B1%A1><span class=nav-number>1.14.</span> <span class=nav-text> figure 图形对象</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E5%AD%90%E5%9B%BE-subplot%E5%88%9B%E5%BB%BA%E5%8D%95%E4%B8%AA%E5%AD%90%E5%9B%BE><span class=nav-number>1.15.</span> <span class=nav-text> 子图 subplot（创建单个子图）</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E5%88%9B%E5%BB%BA%E5%A4%9A%E4%B8%AA%E5%AD%90%E5%9B%BE%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%9A%84-api><span class=nav-number>1.16.</span> <span class=nav-text> 创建多个子图（面向对象的 API）</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E5%8F%8C%E8%BD%B4%E5%9B%BE><span class=nav-number>1.17.</span> <span class=nav-text> 双轴图</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E7%A7%BB%E5%8A%A8%E5%9D%90%E6%A0%87%E8%BD%B4%E4%BD%8D%E7%BD%AE><span class=nav-number>1.18.</span> <span class=nav-text> 移动坐标轴位置</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#matplotlib-grid-%E8%AE%BE%E7%BD%AE%E7%BD%91%E6%A0%BC%E6%A0%BC%E5%BC%8F><span class=nav-number>1.19.</span> <span class=nav-text> matplotlib grid() 设置网格格式</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E5%88%BB%E5%BA%A6%E5%92%8C%E5%88%BB%E5%BA%A6%E6%A0%87%E7%AD%BE><span class=nav-number>1.20.</span> <span class=nav-text> 刻度和刻度标签</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#matplotlib-%E6%95%B0%E5%AD%A6%E8%A1%A8%E8%BE%BE%E5%BC%8F><span class=nav-number>1.21.</span> <span class=nav-text> matplotlib 数学表达式</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E6%98%BE%E7%A4%BA%E4%B8%AD%E6%96%87%E5%AD%97%E4%BD%93><span class=nav-number>1.22.</span> <span class=nav-text> 显示中文字体</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#matplotlib-%E7%BB%98%E5%88%B6%E6%96%87%E6%9C%AC><span class=nav-number>1.23.</span> <span class=nav-text> matplotlib 绘制文本</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E6%B7%BB%E5%8A%A0%E6%95%B0%E6%8D%AE%E6%A0%87%E7%AD%BE><span class=nav-number>1.24.</span> <span class=nav-text> 添加数据标签</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E5%A4%9A%E8%BE%B9%E5%BD%A2%E9%A2%9C%E8%89%B2%E5%A1%AB%E5%85%85><span class=nav-number>1.25.</span> <span class=nav-text> 多边形颜色填充</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#3d-%E7%BB%98%E5%9B%BE><span class=nav-number>1.26.</span> <span class=nav-text> 3D 绘图</span></a></ol><li class="nav-item nav-level-1"><a class=nav-link href=#part-ii-seaborn><span class=nav-number>2.</span> <span class=nav-text> Part II. seaborn</span></a><ol class=nav-child><li class="nav-item nav-level-2"><a class=nav-link href=#seaborn><span class=nav-number>2.1.</span> <span class=nav-text> seaborn</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E5%AF%BC%E5%85%A5%E6%95%B0%E6%8D%AE%E9%9B%86><span class=nav-number>2.2.</span> <span class=nav-text> 导入数据集</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E6%95%A3%E7%82%B9%E5%9B%BE-2><span class=nav-number>2.3.</span> <span class=nav-text> 散点图</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E6%8A%98%E7%BA%BF%E5%9B%BE-2><span class=nav-number>2.4.</span> <span class=nav-text> 折线图</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E7%9B%B4%E6%96%B9%E5%9B%BE-2><span class=nav-number>2.5.</span> <span class=nav-text> 直方图</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E6%9F%B1%E5%BD%A2%E5%9B%BE-2><span class=nav-number>2.6.</span> <span class=nav-text> 柱形图</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E7%9B%92%E5%9B%BE-2><span class=nav-number>2.7.</span> <span class=nav-text> 盒图</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#%E5%AF%86%E5%BA%A6%E5%9B%BE><span class=nav-number>2.8.</span> <span class=nav-text> 密度图</span></a><ol class=nav-child><li class="nav-item nav-level-3"><a class=nav-link href=#matplotlib-2><span class=nav-number>2.8.1.</span> <span class=nav-text> matplotlib</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#seaborn-2><span class=nav-number>2.8.2.</span> <span class=nav-text> seaborn</span></a></ol><li class="nav-item nav-level-2"><a class=nav-link href=#%E5%88%86%E9%9D%A2faceting><span class=nav-number>2.9.</span> <span class=nav-text> 分面（Faceting）</span></a><li class="nav-item nav-level-2"><a class=nav-link href=#pairplot%E8%81%94%E5%90%88%E5%88%86%E5%B8%83%E5%9B%BE><span class=nav-number>2.10.</span> <span class=nav-text> Pairplot（联合分布图）</span></a></ol><li class="nav-item nav-level-1"><a class=nav-link href=#part-iii-%E6%9C%AC%E7%AB%A0%E6%80%BB%E7%BB%93><span class=nav-number>3.</span> <span class=nav-text> Part III. 本章总结</span></a><ol class=nav-child><li class="nav-item nav-level-2"><a class=nav-link href=#matplotlib-3><span class=nav-number>3.1.</span> <span class=nav-text> Matplotlib</span></a><ol class=nav-child><li class="nav-item nav-level-3"><a class=nav-link href=#%E5%9F%BA%E7%A1%80%E7%BB%98%E5%9B%BE><span class=nav-number>3.1.1.</span> <span class=nav-text> 基础绘图</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E9%AB%98%E7%BA%A7%E7%BB%98%E5%9B%BE><span class=nav-number>3.1.2.</span> <span class=nav-text> 高级绘图</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E8%87%AA%E5%AE%9A%E4%B9%89%E4%B8%8E%E7%BE%8E%E5%8C%96><span class=nav-number>3.1.3.</span> <span class=nav-text> 自定义与美化</span></a></ol><li class="nav-item nav-level-2"><a class=nav-link href=#seaborn-3><span class=nav-number>3.2.</span> <span class=nav-text> Seaborn</span></a><ol class=nav-child><li class="nav-item nav-level-3"><a class=nav-link href=#%E5%9F%BA%E7%A1%80%E7%BB%98%E5%9B%BE-2><span class=nav-number>3.2.1.</span> <span class=nav-text> 基础绘图</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#%E9%AB%98%E7%BA%A7%E7%BB%98%E5%9B%BE-2><span class=nav-number>3.2.2.</span> <span class=nav-text> 高级绘图</span></a><li class="nav-item nav-level-3"><a class=nav-link href=#323-%E8%87%AA%E5%AE%9A%E4%B9%89%E4%B8%8E%E7%BE%8E%E5%8C%96><span class=nav-number>3.2.3.</span> <span class=nav-text> 3.2.3 自定义与美化</span></a></ol><li class="nav-item nav-level-2"><a class=nav-link href=#%E6%80%BB%E7%BB%93><span class=nav-number>3.3.</span> <span class=nav-text> 总结</span></a></ol></ol></div></div><!--/noindex--><div class="site-overview-wrap sidebar-panel"><div class="site-author animated" itemprop=author itemscope itemtype=http://schema.org/Person><img alt="Tarik Von" class=site-author-image itemprop=image src=http://q.qlogo.cn/headimg_dl?dst_uin=2758557228&spec=640&img_type=jpg><p class=site-author-name itemprop=name>Tarik Von<div class=site-description itemprop=description></div></div><div class="site-state-wrap animated"><nav class=site-state><div class="site-state-item site-state-posts"><a href=/archives/> <span class=site-state-item-count>13</span> <span class=site-state-item-name>日志</span> </a></div><div class="site-state-item site-state-categories"><a href=/categories/> <span class=site-state-item-count>5</span> <span class=site-state-item-name>分类</span></a></div><div class="site-state-item site-state-tags"><a href=/tags/> <span class=site-state-item-count>45</span> <span class=site-state-item-name>标签</span></a></div></nav></div><div class="links-of-author animated"><span class=links-of-author-item> <a rel="noopener me" title="GitHub → https://github.com/TarikVon" href=https://github.com/TarikVon target=_blank><i class="fab fa-github fa-fw"></i>GitHub</a> </span><span class=links-of-author-item> <a rel="noopener me" title="Bilibili → https://space.bilibili.com/133633241" href=https://space.bilibili.com/133633241 target=_blank><i class="fab fa-bilibili fa-fw"></i>Bilibili</a> </span><span class=links-of-author-item> <a rel="noopener me" title="Twitter → https://twitter.com/Tarik_Von" href=https://twitter.com/Tarik_Von target=_blank><i class="fab fa-twitter fa-fw"></i>Twitter</a> </span><span class=links-of-author-item> <a rel="noopener me" title="YouTube → https://www.youtube.com/@TarikVon" href=https://www.youtube.com/@TarikVon target=_blank><i class="fab fa-youtube fa-fw"></i>YouTube</a> </span></div></div></div><div><iframe border=0 frameborder=no height=86 marginheight=0 marginwidth=0 src=https://music.163.com/outchain/player?type=2&id=1398802958&auto=0&height=66 width=330></iframe><script async src=https://rf.revolvermaps.com/0/0/8.js?i=5vuqjbxfa40&m=7&c=ff0000&cr1=ffffff&f=arial&l=33></script></div></div></aside></div><div class="main-inner post posts-expand"><div class=post-block><article class=post-content itemscope itemtype=http://schema.org/Article lang=zh-CN><link href=http://www.tarikvon.cn/2024/12/16/Python-Matplotlib/ itemprop=mainEntityOfPage><span hidden itemprop=author itemscope itemtype=http://schema.org/Person> <meta content=http://q.qlogo.cn/headimg_dl?dst_uin=2758557228&spec=640&img_type=jpg itemprop=image> <meta content="Tarik Von" itemprop=name> </span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization> <meta content="Von's Blog" itemprop=name> <meta itemprop=description> </span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork> <meta content="Python: Matplotlib & Seaborn | Von's Blog" itemprop=name> <meta itemprop=description> </span><header class=post-header><h1 itemprop="name headline" class=post-title>Python: Matplotlib & Seaborn</h1><div class=post-meta-container><div class=post-meta><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-calendar"></i> </span> <span class=post-meta-item-text>发表于</span> <time itemprop="dateCreated datePublished" title="创建时间：2024-12-16 09:01:18" datetime=2024-12-16T09:01:18+08:00>2024-12-16</time> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-calendar-check"></i> </span> <span class=post-meta-item-text>更新于</span> <time title="修改时间：2025-10-17 15:21:41" datetime=2025-10-17T15:21:41+08:00 itemprop=dateModified>2025-10-17</time> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="far fa-folder"></i> </span> <span class=post-meta-item-text>分类于</span> <span itemprop=about itemscope itemtype=http://schema.org/Thing> <a href=/categories/notes/ itemprop=url rel=index><span itemprop=name>notes</span></a> </span> </span><span class=post-meta-item title=本文字数> <span class=post-meta-item-icon> <i class="far fa-file-word"></i> </span> <span class=post-meta-item-text>本文字数：</span> <span>8.7k</span> </span><span class=post-meta-item title=阅读时长> <span class=post-meta-item-icon> <i class="far fa-clock"></i> </span> <span class=post-meta-item-text>阅读时长 ≈</span> <span>32 分钟</span> </span></div></div></header><div class=post-body itemprop=articleBody><h1 id=part-i-matplotlib><a class=markdownIt-Anchor href=#part-i-matplotlib></a> Part I. Matplotlib</h1><h2 id=matplotlib><a class=markdownIt-Anchor href=#matplotlib></a> Matplotlib</h2><ul><li>Matplotlib 是一个 Python 的 2D 绘图库，它以各种硬拷贝格式和跨平台的交互式环境生成出版质量级别的图形。<li>安装 matplotlib 的最简单方法是使用 pip。 <blockquote><p>pip 是一个现代的，通用的 Python 包管理工具。提供了对 Python 包的查找、下载、安装、卸载的功能。</blockquote><li>命令提示符（cmd）或 Linux shell 中键入以下命令： <ul><li><code>pip install matplotlib</code></ul><li>使用 matplotlib 库需要首先将其导入代码： <ul><li><code>import matplotlib.pyplot as plt</code></ul><li>每个 pyplot 函数都会对图形进行一些设置 e.g.： <ul><li>创建图形：<code>plt.figure()</code><li>在图形中创建绘图区域：<code>plt.subplot(1, 1)</code><li>在绘图区域中绘制一些线：<code>plt.plot([0, 1], [0, 1], label='line')</code><li>用标签等装饰绘图：<code>plt.legend()</code></ul><li>无论何时使用 matplotlib 绘图，都应有两行主要代码： <ul><li>图的类型<br> 定义条形图、折线图等图的类型：<code>plt.plot()</code>、<code>plt.bar()</code><li>显示图表<br> 显示图形的代码：<code>plt.show()</code></ul><li>matplotlib 可以让你轻松完成任务，只需几行代码即可生成绘图、直方图、条形图、误差图、散点图等：<iframe allowfullscreen frameborder=0 height=600 src=https://matplotlib.org/stable/plot_types/index.html width=90%></iframe></ul><h2 id=从一个简单的例子开始><a class=markdownIt-Anchor href=#从一个简单的例子开始></a> 从一个简单的例子开始</h2><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> matplotlib.pyplot <span class=keyword>as</span> plt</span><br><span class=line></span><br><span class=line>x = [<span class=number>0</span>, <span class=number>1</span>, <span class=number>2</span>, <span class=number>3</span>, <span class=number>4</span>, <span class=number>5</span>]</span><br><span class=line>y = [<span class=number>0</span>, <span class=number>1</span>, <span class=number>4</span>, <span class=number>9</span>, <span class=number>16</span>, <span class=number>25</span>]</span><br><span class=line></span><br><span class=line>plt.plot(x, y)</span><br><span class=line>plt.show()</span><br></pre></table></figure><p><img alt src=images/notes/matplotlib/1.2.1.svg><ul><li>注意：如果为 plot() 命令提供单个列表或数组，则 matplotlib 假设它是一个 y 值序列，并且自动生成 x 值。</ul><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> matplotlib.pyplot <span class=keyword>as</span> plt</span><br><span class=line>plt.plot([<span class=number>1</span>, <span class=number>2</span>, <span class=number>3</span>, <span class=number>4</span>])</span><br><span class=line>plt.ylabel(<span class=string>'some numbers'</span>)</span><br><span class=line>plt.show()</span><br></pre></table></figure><p><img alt src=images/notes/matplotlib/1.2.2.svg><ul><li>Python 默认 x 向量长度与 y 相同，且从 0 开始，因此，<code>x = [0, 1, 2, 3]</code>。</ul><h2 id=pyplot-方法><a class=markdownIt-Anchor href=#pyplot-方法></a> pyplot 方法</h2><ul><li><code>text()</code>：在任意位置添加文本<li><code>xlabel()</code>：将文本添加到 x 轴<li><code>ylabel()</code>：将文本添加到 y 轴<li><code>title()</code>：将标题添加到图中<li><code>savefig()</code>：将图形保存到文件中<li><code>legend()</code>：在图上显示图例</ul><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> matplotlib.pyplot <span class=keyword>as</span> plt</span><br><span class=line></span><br><span class=line>y1 = []</span><br><span class=line>y2 = []</span><br><span class=line>x = <span class=built_in>range</span>(-<span class=number>100</span>, <span class=number>100</span>, <span class=number>10</span>)</span><br><span class=line><span class=keyword>for</span> i <span class=keyword>in</span> x:</span><br><span class=line>    y1.append(i**<span class=number>2</span>)</span><br><span class=line><span class=keyword>for</span> i <span class=keyword>in</span> x:</span><br><span class=line>    y2.append(-(i**<span class=number>2</span>))</span><br><span class=line></span><br><span class=line><span class=comment># 逐渐完善图形</span></span><br><span class=line>plt.plot(x, y1)</span><br><span class=line>plt.plot(x, y2)</span><br><span class=line>plt.xlabel(<span class=string>"x"</span>)</span><br><span class=line>plt.ylabel(<span class=string>"y"</span>)</span><br><span class=line>plt.ylim(-<span class=number>2000</span>, <span class=number>2000</span>)</span><br><span class=line>plt.axhline(<span class=number>0</span>)  <span class=comment># 水平线</span></span><br><span class=line>plt.axvline(<span class=number>0</span>)  <span class=comment># 垂直线</span></span><br><span class=line></span><br><span class=line><span class=comment># 保存图形到文件</span></span><br><span class=line>plt.savefig(<span class=string>"quad.png"</span>)</span><br><span class=line></span><br><span class=line><span class=comment># 显示图形到屏幕</span></span><br><span class=line>plt.show()</span><br></pre></table></figure><p><img alt src=images/notes/matplotlib/1.2.3.svg><h2 id=折线图><a class=markdownIt-Anchor href=#折线图></a> 折线图</h2><h3 id=简单折线图><a class=markdownIt-Anchor href=#简单折线图></a> 简单折线图</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br></pre><td class=code><pre><span class=line><span class=comment># importing the required module</span></span><br><span class=line><span class=keyword>import</span> matplotlib.pyplot <span class=keyword>as</span> plt</span><br><span class=line></span><br><span class=line><span class=comment># x 轴的值</span></span><br><span class=line>x = [<span class=number>1</span>, <span class=number>2</span>, <span class=number>3</span>]</span><br><span class=line><span class=comment># 相对应 y 轴的值</span></span><br><span class=line>y = [<span class=number>2</span>, <span class=number>4</span>, <span class=number>1</span>]</span><br><span class=line></span><br><span class=line><span class=comment># 绘制这些点</span></span><br><span class=line>plt.plot(x, y, color=<span class=string>"g"</span>)</span><br><span class=line></span><br><span class=line><span class=comment># 为 x 轴命名</span></span><br><span class=line>plt.xlabel(<span class=string>"x - axis"</span>)</span><br><span class=line><span class=comment># 为 y 轴命名</span></span><br><span class=line>plt.ylabel(<span class=string>"y - axis"</span>)</span><br><span class=line></span><br><span class=line><span class=comment># 为图表添加标题</span></span><br><span class=line>plt.title(<span class=string>"My first graph!"</span>)</span><br><span class=line></span><br><span class=line><span class=comment># 显示图像</span></span><br><span class=line>plt.show()</span><br></pre></table></figure><p><img alt src=images/notes/matplotlib/1.4.1.svg><h3 id=有两条线的折线图><a class=markdownIt-Anchor href=#有两条线的折线图></a> 有两条线的折线图</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> matplotlib.pyplot <span class=keyword>as</span> plt</span><br><span class=line></span><br><span class=line><span class=comment># 折线 1 的点</span></span><br><span class=line>x1 = [<span class=number>1</span>, <span class=number>2</span>, <span class=number>3</span>]</span><br><span class=line>y1 = [<span class=number>2</span>, <span class=number>4</span>, <span class=number>1</span>]</span><br><span class=line><span class=comment># 绘制折线 1 的点</span></span><br><span class=line>plt.plot(x1, y1, label=<span class=string>"line 1"</span>,color=<span class=string>"g"</span>)</span><br><span class=line></span><br><span class=line><span class=comment># 折线 2 的点</span></span><br><span class=line>x2 = [<span class=number>1</span>, <span class=number>2</span>, <span class=number>3</span>]</span><br><span class=line>y2 = [<span class=number>4</span>, <span class=number>1</span>, <span class=number>3</span>]</span><br><span class=line><span class=comment># 绘制折线 2 的点</span></span><br><span class=line>plt.plot(x2, y2, label=<span class=string>"line 2"</span>,color=<span class=string>"r"</span>)</span><br><span class=line></span><br><span class=line><span class=comment># 命名 x 轴</span></span><br><span class=line>plt.xlabel(<span class=string>'x - axis'</span>)</span><br><span class=line><span class=comment># 命名 y 轴</span></span><br><span class=line>plt.ylabel(<span class=string>'y - axis'</span>)</span><br><span class=line><span class=comment># 给图表一个标题</span></span><br><span class=line>plt.title(<span class=string>'Two lines on same graph!'</span>)</span><br><span class=line></span><br><span class=line><span class=comment># 在图上显示图例</span></span><br><span class=line>plt.legend()</span><br><span class=line></span><br><span class=line><span class=comment># 显示图表的函数</span></span><br><span class=line>plt.show()</span><br></pre></table></figure><p><img alt src=images/notes/matplotlib/1.4.2.svg><h3 id=定制折线图><a class=markdownIt-Anchor href=#定制折线图></a> 定制折线图</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> matplotlib.pyplot <span class=keyword>as</span> plt</span><br><span class=line></span><br><span class=line><span class=comment># x 轴的值</span></span><br><span class=line>x = [<span class=number>1</span>, <span class=number>2</span>, <span class=number>3</span>, <span class=number>4</span>, <span class=number>5</span>, <span class=number>6</span>]</span><br><span class=line><span class=comment># 对应的 y 轴的值</span></span><br><span class=line>y = [<span class=number>2</span>, <span class=number>4</span>, <span class=number>1</span>, <span class=number>5</span>, <span class=number>2</span>, <span class=number>6</span>]</span><br><span class=line></span><br><span class=line><span class=comment># 绘制点</span></span><br><span class=line>plt.plot(x, y, color=<span class=string>'green'</span>, linestyle=<span class=string>'dashed'</span>, linewidth=<span class=number>3</span>,</span><br><span class=line>         marker=<span class=string>'o'</span>, markerfacecolor=<span class=string>'blue'</span>, markersize=<span class=number>12</span>)</span><br><span class=line></span><br><span class=line><span class=comment># 设置 x 和 y 轴的范围</span></span><br><span class=line>plt.ylim(<span class=number>1</span>, <span class=number>8</span>)</span><br><span class=line>plt.xlim(<span class=number>1</span>, <span class=number>8</span>)</span><br><span class=line></span><br><span class=line><span class=comment># 命名 x 轴</span></span><br><span class=line>plt.xlabel(<span class=string>'x - axis'</span>)</span><br><span class=line><span class=comment># 命名 y 轴</span></span><br><span class=line>plt.ylabel(<span class=string>'y - axis'</span>)</span><br><span class=line></span><br><span class=line><span class=comment># 给图表一个标题</span></span><br><span class=line>plt.title(<span class=string>'Some cool customizations!'</span>)</span><br><span class=line></span><br><span class=line><span class=comment># 显示图表的函数</span></span><br><span class=line>plt.show()</span><br></pre></table></figure><h3 id=线条标记><a class=markdownIt-Anchor href=#线条标记></a> 线条标记</h3><table><thead><tr><th>符号<th>标记<th>描述<tbody><tr><td>"."<td><img alt=point src=https://matplotlib.org/stable/_images/m00.png><td>point<tr><td>","<td><img alt=pixel src=https://matplotlib.org/stable/_images/m01.png><td>pixel<tr><td>"o"<td><img alt=circle src=https://matplotlib.org/stable/_images/m02.png><td>circle<tr><td>"v"<td><img alt=triangle_down src=https://matplotlib.org/stable/_images/m03.png><td>triangle_down<tr><td>"^"<td><img alt=triangle_up src=https://matplotlib.org/stable/_images/m04.png><td>triangle_up<tr><td>"<"<td><img alt=triangle_left src=https://matplotlib.org/stable/_images/m05.png><td>triangle_left<tr><td>">"<td><img alt=triangle_right src=https://matplotlib.org/stable/_images/m06.png><td>triangle_right<tr><td>"1"<td><img alt=tri_down src=https://matplotlib.org/stable/_images/m07.png><td>tri_down<tr><td>"2"<td><img alt=tri_up src=https://matplotlib.org/stable/_images/m08.png><td>tri_up<tr><td>"3"<td><img alt=tri_left src=https://matplotlib.org/stable/_images/m09.png><td>tri_left<tr><td>"4"<td><img alt=tri_right src=https://matplotlib.org/stable/_images/m10.png><td>tri_right<tr><td>"8"<td><img alt=octagon src=https://matplotlib.org/stable/_images/m11.png><td>octagon<tr><td>"s"<td><img alt=square src=https://matplotlib.org/stable/_images/m12.png><td>square<tr><td>"p"<td><img alt=pentagon src=https://matplotlib.org/stable/_images/m13.png><td>pentagon<tr><td>"P"<td><img alt=plus_filled src=https://matplotlib.org/stable/_images/m23.png><td>plus (filled)<tr><td>"*"<td><img alt=star src=https://matplotlib.org/stable/_images/m14.png><td>star<tr><td>"h"<td><img alt=hexagon1 src=https://matplotlib.org/stable/_images/m15.png><td>hexagon1<tr><td>"H"<td><img alt=hexagon2 src=https://matplotlib.org/stable/_images/m16.png><td>hexagon2<tr><td>"+"<td><img alt=plus src=https://matplotlib.org/stable/_images/m17.png><td>plus<tr><td>"x"<td><img alt=x src=https://matplotlib.org/stable/_images/m18.png><td>x<tr><td>"X"<td><img alt=x_filled src=https://matplotlib.org/stable/_images/m24.png><td>x (filled)<tr><td>"D"<td><img alt=diamond src=https://matplotlib.org/stable/_images/m19.png><td>diamond<tr><td>"d"<td><img alt=thin_diamond src=https://matplotlib.org/stable/_images/m20.png><td>thin_diamond<tr><td>"|"<td><img alt=vline src=https://matplotlib.org/stable/_images/m21.png><td>vline<tr><td>"_"<td><img alt=hline src=https://matplotlib.org/stable/_images/m22.png><td>hline<tr><td>0 (TICKLEFT)<td><img alt=tickleft src=https://matplotlib.org/stable/_images/m25.png><td>tickleft<tr><td>1 (TICKRIGHT)<td><img alt=tickright src=https://matplotlib.org/stable/_images/m26.png><td>tickright<tr><td>2 (TICKUP)<td><img alt=tickup src=https://matplotlib.org/stable/_images/m27.png><td>tickup<tr><td>3 (TICKDOWN)<td><img alt=tickdown src=https://matplotlib.org/stable/_images/m28.png><td>tickdown<tr><td>4 (CARETLEFT)<td><img alt=caretleft src=https://matplotlib.org/stable/_images/m29.png><td>caretleft<tr><td>5 (CARETRIGHT)<td><img alt=caretright src=https://matplotlib.org/stable/_images/m30.png><td>caretright<tr><td>6 (CARETUP)<td><img alt=caretup src=https://matplotlib.org/stable/_images/m31.png><td>caretup<tr><td>7 (CARETDOWN)<td><img alt=caretdown src=https://matplotlib.org/stable/_images/m32.png><td>caretdown<tr><td>8 (CARETLEFTBASE)<td><img alt=caretleft_base src=https://matplotlib.org/stable/_images/m33.png><td>caretleft (centered at base)<tr><td>9 (CARETRIGHTBASE)<td><img alt=caretright_base src=https://matplotlib.org/stable/_images/m34.png><td>caretright (centered at base)<tr><td>10 (CARETUPBASE)<td><img alt=caretup_base src=https://matplotlib.org/stable/_images/m35.png><td>caretup (centered at base)<tr><td>11 (CARETDOWNBASE)<td><img alt=caretdown_base src=https://matplotlib.org/stable/_images/m36.png><td>caretdown (centered at base)</table><h3 id=颜色><a class=markdownIt-Anchor href=#颜色></a> 颜色</h3><table><thead><tr><th>符号<th>颜色<tbody><tr><td><code>k</code><td>黑色<tr><td><code>b</code><td>蓝色<tr><td><code>c</code><td>青色<tr><td><code>g</code><td>绿色<tr><td><code>m</code><td>洋红<tr><td><code>r</code><td>红色<tr><td><code>y</code><td>黄色<tr><td><code>gray</code> 或 <code>grey</code><td>灰色<tr><td><code>lightgray</code> 或 <code>lightgrey</code><td>浅灰色</table><h2 id=柱形图><a class=markdownIt-Anchor href=#柱形图></a> 柱形图</h2><h3 id=简单柱形图><a class=markdownIt-Anchor href=#简单柱形图></a> 简单柱形图</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> matplotlib.pyplot <span class=keyword>as</span> plt</span><br><span class=line></span><br><span class=line><span class=comment># 创建用于绘图的数据</span></span><br><span class=line>values = [<span class=number>5</span>, <span class=number>6</span>, <span class=number>3</span>, <span class=number>7</span>, <span class=number>2</span>]</span><br><span class=line>names = [<span class=string>"A"</span>, <span class=string>"B"</span>, <span class=string>"C"</span>, <span class=string>"D"</span>, <span class=string>"E"</span>]</span><br><span class=line></span><br><span class=line>plt.bar(names, values, color=<span class=string>"green"</span>)</span><br><span class=line>plt.show()</span><br></pre></table></figure><p><img alt src=images/notes/matplotlib/1.5.1.svg><ul><li><strong>names</strong> 表示 x 的坐标值，默认位置是每个柱状图所在的中点位置。</ul><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> matplotlib.pyplot <span class=keyword>as</span> plt</span><br><span class=line></span><br><span class=line><span class=comment># 柱子的高度</span></span><br><span class=line>height = [<span class=number>10</span>, <span class=number>24</span>, <span class=number>36</span>, <span class=number>40</span>, <span class=number>5</span>]</span><br><span class=line></span><br><span class=line><span class=comment># 柱子的标签</span></span><br><span class=line>names = [<span class=string>"one"</span>, <span class=string>"two"</span>, <span class=string>"three"</span>, <span class=string>"four"</span>, <span class=string>"five"</span>]</span><br><span class=line></span><br><span class=line><span class=comment># 绘制条形图</span></span><br><span class=line>c1 = [<span class=string>"red"</span>, <span class=string>"green"</span>]</span><br><span class=line>c2 = [<span class=string>"b"</span>, <span class=string>"g"</span>]  <span class=comment># 我们可以用这个来设置颜色</span></span><br><span class=line>plt.bar(names, height, width=<span class=number>0.8</span>, color=c1)</span><br><span class=line></span><br><span class=line><span class=comment># 命名 x 轴</span></span><br><span class=line>plt.xlabel(<span class=string>"x - axis"</span>)</span><br><span class=line><span class=comment># 命名 y 轴</span></span><br><span class=line>plt.ylabel(<span class=string>"y - axis"</span>)</span><br><span class=line></span><br><span class=line><span class=comment># 图表标题</span></span><br><span class=line>plt.title(<span class=string>"My bar chart!"</span>)</span><br><span class=line></span><br><span class=line><span class=comment># 显示图表的函数</span></span><br><span class=line>plt.show()</span><br></pre></table></figure><p><img alt src=images/notes/matplotlib/1.5.2.svg><ul><li><strong>如果 x 轴的标签出现不按顺序排列的问题</strong></ul><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> matplotlib.pyplot <span class=keyword>as</span> plt</span><br><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line></span><br><span class=line><span class=comment># 柱子的高度</span></span><br><span class=line>height = [<span class=number>10</span>, <span class=number>24</span>, <span class=number>36</span>, <span class=number>40</span>, <span class=number>5</span>]</span><br><span class=line></span><br><span class=line><span class=comment># 柱子的标签</span></span><br><span class=line>names = [<span class=string>"one"</span>, <span class=string>"two"</span>, <span class=string>"three"</span>, <span class=string>"four"</span>, <span class=string>"five"</span>]</span><br><span class=line></span><br><span class=line><span class=comment># 绘制条形图</span></span><br><span class=line>c1 = [<span class=string>"red"</span>, <span class=string>"green"</span>]</span><br><span class=line>c2 = [<span class=string>"b"</span>, <span class=string>"g"</span>]  <span class=comment># 我们可以用这个来设置颜色</span></span><br><span class=line>index = np.arange(<span class=built_in>len</span>(names))</span><br><span class=line>plt.bar(index, height, width=<span class=number>0.8</span>, color=c1)</span><br><span class=line></span><br><span class=line><span class=comment># 命名 x 轴</span></span><br><span class=line>plt.xlabel(<span class=string>"x - axis"</span>)</span><br><span class=line>plt.xticks(index, names)</span><br><span class=line><span class=comment># 命名 y 轴</span></span><br><span class=line>plt.ylabel(<span class=string>"y - axis"</span>)</span><br><span class=line><span class=comment># 图表标题</span></span><br><span class=line>plt.title(<span class=string>"My bar chart!"</span>)</span><br><span class=line><span class=comment># 显示图表的函数</span></span><br><span class=line>plt.show()</span><br></pre></table></figure><p><img alt src=images/notes/matplotlib/1.5.3.svg><ul><li><code>xticks(locs, [labels], **kwargs)</code>，其中 <code>locs</code> 用于设置 X 轴刻度间隔，<code>labels</code> 用于设置每个间隔的显示标签。</ul><h3 id=柱形图堆积柱形图><a class=markdownIt-Anchor href=#柱形图堆积柱形图></a> 柱形图（堆积柱形图）</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line><span class=keyword>import</span> matplotlib.pyplot <span class=keyword>as</span> plt</span><br><span class=line></span><br><span class=line>countries = [<span class=string>"USA"</span>, <span class=string>"India"</span>, <span class=string>"China"</span>, <span class=string>"Russia"</span>, <span class=string>"Germany"</span>]</span><br><span class=line>bronzes = np.array([<span class=number>38</span>, <span class=number>17</span>, <span class=number>26</span>, <span class=number>19</span>, <span class=number>15</span>])</span><br><span class=line>silvers = np.array([<span class=number>37</span>, <span class=number>23</span>, <span class=number>18</span>, <span class=number>18</span>, <span class=number>10</span>])</span><br><span class=line>golds = np.array([<span class=number>46</span>, <span class=number>27</span>, <span class=number>26</span>, <span class=number>19</span>, <span class=number>17</span>])</span><br><span class=line></span><br><span class=line><span class=comment># 生成 X 轴刻度间隔 [0, 1, 2, 3, 4]</span></span><br><span class=line>index = np.arange(<span class=built_in>len</span>(countries))</span><br><span class=line></span><br><span class=line><span class=comment># 绘制堆积柱形图</span></span><br><span class=line>plt.bar(index, golds, width=<span class=number>0.8</span>, label=<span class=string>"golds"</span>, color=<span class=string>"gold"</span>, bottom=silvers + bronzes)</span><br><span class=line>plt.bar(index, silvers, width=<span class=number>0.8</span>, label=<span class=string>"silvers"</span>, color=<span class=string>"silver"</span>, bottom=bronzes)</span><br><span class=line>plt.bar(index, bronzes, width=<span class=number>0.8</span>, label=<span class=string>"bronzes"</span>, color=<span class=string>"#CD853F"</span>)</span><br><span class=line></span><br><span class=line><span class=comment># 设置坐标轴</span></span><br><span class=line>plt.xticks(index, countries)</span><br><span class=line>plt.ylabel(<span class=string>"Medals"</span>)</span><br><span class=line>plt.xlabel(<span class=string>"Countries"</span>)</span><br><span class=line>plt.legend(loc=<span class=string>"upper right"</span>)</span><br><span class=line>plt.title(<span class=string>"2019 Olympics Top Scorers"</span>)</span><br><span class=line>plt.show()</span><br></pre></table></figure><p><img alt src=images/notes/matplotlib/1.5.4.svg><h3 id=柱形图簇状柱形图><a class=markdownIt-Anchor href=#柱形图簇状柱形图></a> 柱形图（簇状柱形图）</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line><span class=keyword>import</span> matplotlib.pyplot <span class=keyword>as</span> plt</span><br><span class=line></span><br><span class=line><span class=comment># 准备数据</span></span><br><span class=line>data = [</span><br><span class=line>    [<span class=number>30</span>, <span class=number>25</span>, <span class=number>50</span>, <span class=number>20</span>],</span><br><span class=line>    [<span class=number>40</span>, <span class=number>23</span>, <span class=number>51</span>, <span class=number>17</span>],</span><br><span class=line>    [<span class=number>35</span>, <span class=number>22</span>, <span class=number>45</span>, <span class=number>19</span>],</span><br><span class=line>]</span><br><span class=line>X = np.arange(<span class=number>4</span>)</span><br><span class=line></span><br><span class=line><span class=comment># 绘制柱状图</span></span><br><span class=line>plt.bar(X + <span class=number>0.00</span>, data[<span class=number>0</span>], color=<span class=string>"b"</span>, width=<span class=number>0.25</span>, label=<span class=string>"2014"</span>)</span><br><span class=line>plt.bar(X + <span class=number>0.25</span>, data[<span class=number>1</span>], color=<span class=string>"g"</span>, width=<span class=number>0.25</span>, label=<span class=string>"2016"</span>)</span><br><span class=line>plt.bar(X + <span class=number>0.50</span>, data[<span class=number>2</span>], color=<span class=string>"r"</span>, width=<span class=number>0.25</span>, label=<span class=string>"2022"</span>)</span><br><span class=line></span><br><span class=line>plt.xticks(X + <span class=number>0.25</span>, [<span class=string>"China"</span>, <span class=string>"US"</span>, <span class=string>"UK"</span>, <span class=string>"Russia"</span>])</span><br><span class=line></span><br><span class=line>plt.ylabel(<span class=string>"Medals"</span>)</span><br><span class=line>plt.xlabel(<span class=string>"Countries"</span>)</span><br><span class=line>plt.title(<span class=string>"Olympics Top Scorers"</span>)</span><br><span class=line></span><br><span class=line>plt.legend()</span><br><span class=line>plt.legend(loc=<span class=string>"upper right"</span>)</span><br><span class=line>plt.show()</span><br></pre></table></figure><p><img alt src=images/notes/matplotlib/1.5.5.svg><h3 id=图例-loc-参数的表示方法><a class=markdownIt-Anchor href=#图例-loc-参数的表示方法></a> 图例 loc 参数的表示方法</h3><ul><li>图例 loc 参数的表示方法，分为字符串和整数两种： <table><thead><tr><th>位置<th>字符串表示<th>整数数字表示<tbody><tr><td>自适应<td>Best<td>0<tr><td>右上方<td>upper right<td>1<tr><td>左上方<td>upper left<td>2<tr><td>左下<td>lower left<td>3<tr><td>右下<td>lower right<td>4<tr><td>右侧<td>right<td>5<tr><td>居中靠左<td>center left<td>6<tr><td>居中靠右<td>center right<td>7<tr><td>底部居中<td>lower center<td>8<tr><td>上部居中<td>upper center<td>9<tr><td>中部<td>center<td>10</table></ul><h2 id=条形图><a class=markdownIt-Anchor href=#条形图></a> 条形图</h2><p>我们还可以将柱形图水平翻转得到条形图，如下所示：<figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> matplotlib.pyplot <span class=keyword>as</span> plt</span><br><span class=line></span><br><span class=line><span class=comment># 创建用于绘图的数据</span></span><br><span class=line>values = [<span class=number>5</span>, <span class=number>6</span>, <span class=number>3</span>, <span class=number>7</span>, <span class=number>2</span>]</span><br><span class=line>names = [<span class=string>"A"</span>, <span class=string>"B"</span>, <span class=string>"C"</span>, <span class=string>"D"</span>, <span class=string>"E"</span>]</span><br><span class=line></span><br><span class=line><span class=comment># 在 bar 后加 "h" 会翻转图形</span></span><br><span class=line>plt.barh(names, values, color=<span class=string>"yellowgreen"</span>)</span><br><span class=line>plt.show()</span><br></pre></table></figure><p><img alt src=images/notes/matplotlib/1.6.1.svg><h2 id=直方图><a class=markdownIt-Anchor href=#直方图></a> 直方图</h2><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> matplotlib.pyplot <span class=keyword>as</span> plt</span><br><span class=line></span><br><span class=line><span class=comment># 频率</span></span><br><span class=line>ages = [<span class=number>2</span>, <span class=number>5</span>, <span class=number>70</span>, <span class=number>40</span>, <span class=number>30</span>, <span class=number>45</span>, <span class=number>50</span>, <span class=number>45</span>, <span class=number>43</span>, <span class=number>40</span>, <span class=number>44</span>, <span class=number>60</span>, <span class=number>7</span>, <span class=number>13</span>, <span class=number>57</span>, <span class=number>18</span>, <span class=number>90</span>, <span class=number>77</span>, <span class=number>32</span>, <span class=number>21</span>, <span class=number>20</span>, <span class=number>40</span>]</span><br><span class=line></span><br><span class=line><span class=comment># 设置范围和区间数量</span></span><br><span class=line><span class=built_in>range</span> = (<span class=number>0</span>, <span class=number>100</span>)</span><br><span class=line>bins = <span class=number>10</span></span><br><span class=line></span><br><span class=line><span class=comment># 绘制直方图</span></span><br><span class=line>plt.hist(ages, bins, <span class=built_in>range</span>, color=<span class=string>"green"</span>, histtype=<span class=string>"bar"</span>, rwidth=<span class=number>0.98</span>)</span><br><span class=line></span><br><span class=line><span class=comment># x 轴标签</span></span><br><span class=line>plt.xlabel(<span class=string>"age"</span>)</span><br><span class=line><span class=comment># 频率标签</span></span><br><span class=line>plt.ylabel(<span class=string>"No. of people"</span>)</span><br><span class=line><span class=comment># 图表标题</span></span><br><span class=line>plt.title(<span class=string>"My histogram"</span>)</span><br><span class=line></span><br><span class=line><span class=comment># 显示图表的函数</span></span><br><span class=line>plt.show()</span><br></pre></table></figure><p><img alt src=images/notes/matplotlib/1.7.1.svg><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> matplotlib.pyplot <span class=keyword>as</span> plt</span><br><span class=line></span><br><span class=line><span class=comment># 生成虚拟数据</span></span><br><span class=line>x = [<span class=number>2</span>, <span class=number>1</span>, <span class=number>6</span>, <span class=number>4</span>, <span class=number>2</span>, <span class=number>4</span>, <span class=number>8</span>, <span class=number>9</span>, <span class=number>4</span>, <span class=number>2</span>, <span class=number>4</span>, <span class=number>10</span>, <span class=number>6</span>, <span class=number>4</span>, <span class=number>5</span>, <span class=number>7</span>, <span class=number>7</span>, <span class=number>3</span>, <span class=number>2</span>, <span class=number>7</span>, <span class=number>5</span>, <span class=number>3</span>, <span class=number>5</span>, <span class=number>9</span>, <span class=number>2</span>, <span class=number>1</span>]</span><br><span class=line></span><br><span class=line><span class=comment># 绘制直方图</span></span><br><span class=line>plt.hist(x, bins=<span class=number>10</span>, color=<span class=string>"blue"</span>, alpha=<span class=number>0.5</span>)</span><br><span class=line>plt.show()</span><br></pre></table></figure><p><img alt src=images/notes/matplotlib/1.7.2.svg><ul><li>代码段添加了两个新参数： <ul><li><strong>Bins</strong>: 是一个直方图的特定参数，允许用户自定义所需的箱数。<li><strong>Alpha</strong>: 显示数据点的透明度程度。</ul></ul><h2 id=散点图><a class=markdownIt-Anchor href=#散点图></a> 散点图</h2><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> matplotlib.pyplot <span class=keyword>as</span> plt</span><br><span class=line></span><br><span class=line><span class=comment># 创建绘图数据</span></span><br><span class=line>x_values = [<span class=number>0</span>, <span class=number>1</span>, <span class=number>2</span>, <span class=number>3</span>, <span class=number>4</span>, <span class=number>5</span>]</span><br><span class=line>y_values = [<span class=number>0</span>, <span class=number>1</span>, <span class=number>4</span>, <span class=number>9</span>, <span class=number>16</span>, <span class=number>25</span>]</span><br><span class=line></span><br><span class=line>plt.scatter(x_values, y_values, s=<span class=number>30</span>, color=<span class=string>"blue"</span>)</span><br><span class=line>plt.show()</span><br></pre></table></figure><p><img alt src=images/notes/matplotlib/1.8.1.svg><ul><li><strong>注意：绘图代码由<code>plt.bar()</code>改为了<code>plt.scatter()</code>。</strong></ul><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> matplotlib.pyplot <span class=keyword>as</span> plt</span><br><span class=line></span><br><span class=line><span class=comment># x 轴数值</span></span><br><span class=line>x = [<span class=number>1</span>, <span class=number>2</span>, <span class=number>3</span>, <span class=number>4</span>, <span class=number>5</span>, <span class=number>6</span>, <span class=number>7</span>, <span class=number>8</span>, <span class=number>9</span>, <span class=number>10</span>]</span><br><span class=line><span class=comment># y 轴数值</span></span><br><span class=line>y = [<span class=number>2</span>, <span class=number>4</span>, <span class=number>5</span>, <span class=number>7</span>, <span class=number>6</span>, <span class=number>8</span>, <span class=number>9</span>, <span class=number>11</span>, <span class=number>12</span>, <span class=number>12</span>]</span><br><span class=line></span><br><span class=line><span class=comment># 绘制散点图</span></span><br><span class=line>plt.scatter(x, y, label=<span class=string>"stars"</span>, color=<span class=string>"green"</span>, marker=<span class=string>"*"</span>, s=<span class=number>30</span>)</span><br><span class=line></span><br><span class=line><span class=comment># 设置 x 轴标签</span></span><br><span class=line>plt.xlabel(<span class=string>"x - axis"</span>)</span><br><span class=line><span class=comment># 设置 y 轴标签</span></span><br><span class=line>plt.ylabel(<span class=string>"y - axis"</span>)</span><br><span class=line><span class=comment># 设置图表标题</span></span><br><span class=line>plt.title(<span class=string>"My scatter plot!"</span>)</span><br><span class=line><span class=comment># 显示图例</span></span><br><span class=line>plt.legend()</span><br><span class=line></span><br><span class=line><span class=comment># 显示图表的函数</span></span><br><span class=line>plt.show()</span><br></pre></table></figure><p><img alt src=images/notes/matplotlib/1.8.2.svg><h2 id=饼图><a class=markdownIt-Anchor href=#饼图></a> 饼图</h2><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> matplotlib.pyplot <span class=keyword>as</span> plt</span><br><span class=line></span><br><span class=line><span class=comment># 定义标签</span></span><br><span class=line>activities = [<span class=string>"eat"</span>, <span class=string>"sleep"</span>, <span class=string>"work"</span>, <span class=string>"play"</span>]</span><br><span class=line></span><br><span class=line><span class=comment># 每个标签所占的份额</span></span><br><span class=line>slices = [<span class=number>3</span>, <span class=number>7</span>, <span class=number>8</span>, <span class=number>6</span>]</span><br><span class=line></span><br><span class=line><span class=comment># 每个标签的颜色</span></span><br><span class=line>colors = [<span class=string>"r"</span>, <span class=string>"y"</span>, <span class=string>"g"</span>, <span class=string>"b"</span>]</span><br><span class=line></span><br><span class=line><span class=comment># 绘制饼图</span></span><br><span class=line>plt.pie(slices, labels=activities, colors=colors, startangle=<span class=number>90</span>, shadow=<span class=literal>True</span>, explode=(<span class=number>0</span>, <span class=number>0</span>, <span class=number>0.1</span>, <span class=number>0</span>), radius=<span class=number>1.2</span>, autopct=<span class=string>"%1.1f%%"</span>)</span><br><span class=line></span><br><span class=line><span class=comment># 绘制图例</span></span><br><span class=line>plt.legend()</span><br><span class=line></span><br><span class=line><span class=comment># 显示图表</span></span><br><span class=line>plt.show()</span><br></pre></table></figure><p><img alt src=images/notes/matplotlib/1.9.1.svg><blockquote><p><strong>autopct</strong> 用于使用 Python 字符串格式显示百分比值。</blockquote><h2 id=盒图><a class=markdownIt-Anchor href=#盒图></a> 盒图</h2><ul><li><strong>盒图</strong>能能通过一组数据的最大值、最小值、中位数、及上下四分位数<strong>显示数据的分布</strong>。</ul><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line><span class=keyword>import</span> matplotlib.pyplot <span class=keyword>as</span> plt</span><br><span class=line></span><br><span class=line>np.random.seed(<span class=number>10</span>)</span><br><span class=line>collectn_1 = np.random.normal(<span class=number>100</span>, <span class=number>10</span>, <span class=number>200</span>)</span><br><span class=line>collectn_2 = np.random.normal(<span class=number>80</span>, <span class=number>30</span>, <span class=number>200</span>)</span><br><span class=line>collectn_3 = np.random.normal(<span class=number>90</span>, <span class=number>20</span>, <span class=number>200</span>)</span><br><span class=line>collectn_4 = np.random.normal(<span class=number>70</span>, <span class=number>25</span>, <span class=number>200</span>)</span><br><span class=line>data_to_plot=[collectn_1,collectn_2,collectn_3,collectn_4]</span><br><span class=line></span><br><span class=line>plt.boxplot(data_to_plot)</span><br><span class=line>index = np.arange(<span class=number>1</span>, <span class=number>5</span>)</span><br><span class=line>plt.xticks(index, [<span class=string>'China'</span>, <span class=string>'US'</span>, <span class=string>'UK'</span>, <span class=string>'Russia'</span>])</span><br><span class=line>plt.show()</span><br></pre></table></figure><p><img alt src=images/notes/matplotlib/1.10.1.svg><h2 id=小提琴图><a class=markdownIt-Anchor href=#小提琴图></a> 小提琴图</h2><ul><li><strong>小提琴图</strong>是用来展示<strong>数据分布状态</strong>以及<strong>概率密度</strong>的图表。这种图表结合了箱形图和密度图的特征。<strong>小提琴图跟箱形图类似，不同之处在于小提琴图还显示数据在不同数值下的概率密度</strong>。</ul><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line><span class=keyword>import</span> matplotlib.pyplot <span class=keyword>as</span> plt</span><br><span class=line></span><br><span class=line>np.random.seed(<span class=number>10</span>)</span><br><span class=line>collectn_1 = np.random.normal(<span class=number>100</span>, <span class=number>10</span>, <span class=number>200</span>)</span><br><span class=line>collectn_2 = np.random.normal(<span class=number>80</span>, <span class=number>30</span>, <span class=number>200</span>)</span><br><span class=line>collectn_3 = np.random.normal(<span class=number>90</span>, <span class=number>20</span>, <span class=number>200</span>)</span><br><span class=line>collectn_4 = np.random.normal(<span class=number>70</span>, <span class=number>25</span>, <span class=number>200</span>)</span><br><span class=line>data_to_plot=[collectn_1,collectn_2,collectn_3,collectn_4]</span><br><span class=line></span><br><span class=line>plt.violinplot(data_to_plot)</span><br><span class=line>index = np.arange(<span class=number>1</span>, <span class=number>5</span>)</span><br><span class=line>plt.xticks(index, [<span class=string>'China'</span>, <span class=string>'US'</span>, <span class=string>'UK'</span>, <span class=string>'Russia'</span>])</span><br><span class=line>plt.show()</span><br></pre></table></figure><p><img alt src=images/notes/matplotlib/1.11.1.svg><h2 id=绘制给定方程的曲线><a class=markdownIt-Anchor href=#绘制给定方程的曲线></a> 绘制给定方程的曲线</h2><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br></pre><td class=code><pre><span class=line><span class=comment># 导入所需的模块</span></span><br><span class=line><span class=keyword>import</span> matplotlib.pyplot <span class=keyword>as</span> plt</span><br><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line></span><br><span class=line><span class=comment># 设置 x 坐标</span></span><br><span class=line>x = np.arange(<span class=number>0</span>, <span class=number>2</span> * (np.pi), <span class=number>0.1</span>)</span><br><span class=line><span class=comment># 设置对应的 y 坐标</span></span><br><span class=line>y = np.sin(x)</span><br><span class=line>plt.text(<span class=number>3.5</span>, <span class=number>0.5</span>, <span class=string>"$y=sin(x), x\\in[0,2\\pi)$"</span>)</span><br><span class=line></span><br><span class=line><span class=comment># 绘制点</span></span><br><span class=line>plt.plot(x, y)</span><br><span class=line></span><br><span class=line><span class=comment># 显示图表的函数</span></span><br><span class=line>plt.show()</span><br></pre></table></figure><p><img alt src=images/notes/matplotlib/1.12.1.svg><h2 id=绘制极线图><a class=markdownIt-Anchor href=#绘制极线图></a> 绘制极线图</h2><p><strong><code>plt.polar(theta, r)</code></strong><ul><li><code>theta</code>：每个标记所在射线与极径的夹角。<li><code>r</code>：每个标记到原点的距离。</ul><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br></pre><td class=code><pre><span class=line><span class=comment># 导入所需的模块</span></span><br><span class=line><span class=keyword>import</span> matplotlib.pyplot <span class=keyword>as</span> plt</span><br><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line></span><br><span class=line>barSlices = <span class=number>12</span></span><br><span class=line>theta = np.linspace(<span class=number>0.0</span>, <span class=number>2</span> * np.pi, barSlices, endpoint=<span class=literal>False</span>)</span><br><span class=line>r = <span class=number>30</span> * np.random.rand(barSlices)</span><br><span class=line></span><br><span class=line>plt.polar(theta, r, color=<span class=string>"chartreuse"</span>, linewidth=<span class=number>2</span>, marker=<span class=string>"*"</span>, mfc=<span class=string>"b"</span>, ms=<span class=number>10</span>)</span><br><span class=line></span><br><span class=line><span class=comment># 显示图表的函数</span></span><br><span class=line>plt.show()</span><br></pre></table></figure><p><img alt src=images/notes/matplotlib/1.13.1.svg><h2 id=figure-图形对象><a class=markdownIt-Anchor href=#figure-图形对象></a> figure 图形对象</h2><ul><li>在 matplotlib 中，面向对象编程的核心思想是创建<strong>图形对象</strong>，然后通过图形对象来调用其它的方法和属性。在这个过程中，pyplot 负责生成图形对象，并通过该对象来添加一个或多个<strong>绘图区域</strong>（即 axes 对象）。<li>通过调用 pyplot 模块中 <code>figure()</code> 函数来实例化 figure 对象。</ul><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> matplotlib.pyplot <span class=keyword>as</span> plt</span><br><span class=line></span><br><span class=line><span class=comment># 创建图形对象，也即一个空白画布</span></span><br><span class=line>fig = plt.figure()</span><br></pre></table></figure><ul><li>使用 add_axes() 添加一个子绘图区域到画布中。如下所示：</ul><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>ax = fig.add_axes([<span class=number>0</span>,<span class=number>0</span>,<span class=number>1</span>,<span class=number>1</span>]) <span class=comment># 添加的子图区域覆盖了全局绘图区域，也即画布</span></span><br></pre></table></figure><ul><li><code>add_axes(left, bottom, width, height)</code>。四个值分别表示添加到画布矩形区域的左下角坐标 (x, y)，以及宽度和高度。注意：<strong>每个数字必须介于 0 到 1 之间</strong>。<li>使用 <code>add_axes()</code> 可添加一个子绘图区域到画布（figure），产生的子绘图区域用 ax 对象表示。通过 ax 可进行图像绘制。</ul><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> matplotlib.pyplot <span class=keyword>as</span> plt</span><br><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line><span class=keyword>import</span> math</span><br><span class=line></span><br><span class=line>x = np.arange(<span class=number>0</span>, math.pi * <span class=number>2</span>, <span class=number>0.05</span>)</span><br><span class=line>y = np.sin(x)</span><br><span class=line></span><br><span class=line>fig = plt.figure()</span><br><span class=line></span><br><span class=line>ax = fig.add_axes([<span class=number>0</span>, <span class=number>0</span>, <span class=number>1</span>, <span class=number>1</span>])</span><br><span class=line>ax.plot(x, y)</span><br><span class=line>ax.set_title(<span class=string>"sine wave"</span>)</span><br><span class=line>ax.set_xlabel(<span class=string>"angle"</span>)</span><br><span class=line>ax.set_ylabel(<span class=string>"sine"</span>)</span><br><span class=line></span><br><span class=line>plt.show()</span><br></pre></table></figure><p><img alt src=images/notes/matplotlib/1.14.1.svg><ul><li><code>figure()</code> 函数来实例化 figure 对象的参数值，如下所示：</ul><table><thead><tr><th>参数<th>说明<tbody><tr><td>figsize<td>指定画布的大小 （宽度，高度），单位为英寸。<tr><td>dpi<td>指定绘图对象的分辨率，即每英寸多少个像素，默认值为 80。<tr><td>facecolor<td>背景颜色。<tr><td>edgecolor<td>边框颜色。<tr><td>frameon<td>是否显示边框。</table><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> matplotlib.pyplot <span class=keyword>as</span> plt</span><br><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line><span class=keyword>import</span> math</span><br><span class=line></span><br><span class=line>x = np.arange(<span class=number>0</span>, math.pi * <span class=number>2</span>, <span class=number>0.05</span>)</span><br><span class=line>y = np.sin(x)</span><br><span class=line></span><br><span class=line>fig = plt.figure(figsize=(<span class=number>5</span>, <span class=number>5</span>), facecolor=<span class=string>"green"</span>, dpi=<span class=number>50</span>)</span><br><span class=line></span><br><span class=line>ax = fig.add_axes([<span class=number>0</span>, <span class=number>0</span>, <span class=number>1</span>, <span class=number>1</span>])</span><br><span class=line>ax.plot(x, y)</span><br><span class=line>ax.set_title(<span class=string>"sine wave"</span>)</span><br><span class=line>ax.set_xlabel(<span class=string>"angle"</span>)</span><br><span class=line>ax.set_ylabel(<span class=string>"sine"</span>)</span><br><span class=line></span><br><span class=line>plt.show()</span><br></pre></table></figure><p><img alt src=images/notes/matplotlib/1.14.2.svg><ul><li><strong>绘制图像之前也可不调用<code>figure()</code>函数创建全局绘图区域</strong>，此时，<strong>plt 子库会自动创建一个默认的绘图区域</strong>。</ul><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> matplotlib.pyplot <span class=keyword>as</span> plt</span><br><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line><span class=keyword>import</span> math</span><br><span class=line></span><br><span class=line>x = np.arange(<span class=number>0</span>, math.pi * <span class=number>2</span>, <span class=number>0.05</span>)</span><br><span class=line>y = np.sin(x)</span><br><span class=line></span><br><span class=line>plt.plot(x, y)</span><br><span class=line>plt.title(<span class=string>"sine wave"</span>)</span><br><span class=line>plt.xlabel(<span class=string>"angle"</span>)</span><br><span class=line>plt.ylabel(<span class=string>"sine"</span>)</span><br><span class=line></span><br><span class=line>plt.show()</span><br></pre></table></figure><p><img alt src=images/notes/matplotlib/1.14.3.svg><h2 id=子图-subplot创建单个子图><a class=markdownIt-Anchor href=#子图-subplot创建单个子图></a> 子图 subplot（创建单个子图）</h2><ul><li>**<code>subplot(nrows, ncols, plot_number)</code>**用于在全局绘图区域内创建子绘<br> 图区域，其参数表示将全局绘图区域分成<code>nrows</code>行和<code>ncols</code>列，并根据先行后列的计数方式在<code>plot_number</code>位置生成一个坐标系。</ul><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line><span class=keyword>import</span> matplotlib.pyplot <span class=keyword>as</span> plt</span><br><span class=line></span><br><span class=line><span class=comment># 计算正弦和余弦曲线上的点的 x 和 y 坐标</span></span><br><span class=line>x = np.arange(<span class=number>0</span>, <span class=number>3</span> * np.pi, <span class=number>0.1</span>)</span><br><span class=line>y_sin = np.sin(x)</span><br><span class=line>y_cos = np.cos(x)</span><br><span class=line><span class=comment># 建立 subplot 网格，高为 2，宽为 1</span></span><br><span class=line><span class=comment># 激活第一个 subplot</span></span><br><span class=line>plt.subplot(<span class=number>2</span>, <span class=number>1</span>, <span class=number>1</span>)</span><br><span class=line><span class=comment># 绘制第一个图像</span></span><br><span class=line>plt.plot(x, y_sin)</span><br><span class=line>plt.title(<span class=string>"Sine"</span>)</span><br><span class=line><span class=comment># 将第二个 subplot 激活，并绘制第二个图像</span></span><br><span class=line>plt.subplot(<span class=number>2</span>, <span class=number>1</span>, <span class=number>2</span>)</span><br><span class=line>plt.plot(x, y_cos)</span><br><span class=line>plt.title(<span class=string>"Cosine"</span>)</span><br><span class=line><span class=comment># 展示图像</span></span><br><span class=line>plt.show()</span><br></pre></table></figure><p><img alt src=images/notes/matplotlib/1.15.1.svg><ul><li><strong><code>subplots(nrows, ncols)</code></strong> 函数的使用方法和 <code>subplot()</code> 函数类似。其不同之处在于，<code>subplots()</code> 既创建了一个包含**若干个子图区域（由 ax 表示）**的画布，又创建了一个 <strong>figure 图形对象</strong>，而 <code>subplot()</code> 只是创建一个包含子图区域的画布。</ul><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> matplotlib.pyplot <span class=keyword>as</span> plt</span><br><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line></span><br><span class=line>fig, ax = plt.subplots(<span class=number>2</span>, <span class=number>2</span>)</span><br><span class=line>x = np.arange(<span class=number>1</span>, <span class=number>5</span>)</span><br><span class=line></span><br><span class=line><span class=comment># 绘制平方函数</span></span><br><span class=line>ax[<span class=number>0</span>][<span class=number>0</span>].plot(x, x * x)</span><br><span class=line>ax[<span class=number>0</span>][<span class=number>0</span>].set_title(<span class=string>"square"</span>)</span><br><span class=line><span class=comment># 绘制平方根图像</span></span><br><span class=line>ax[<span class=number>0</span>][<span class=number>1</span>].plot(x, np.sqrt(x))</span><br><span class=line>ax[<span class=number>0</span>][<span class=number>1</span>].set_title(<span class=string>"square root"</span>)</span><br><span class=line><span class=comment># 绘制指数函数</span></span><br><span class=line>ax[<span class=number>1</span>][<span class=number>0</span>].plot(x, np.exp(x))</span><br><span class=line>ax[<span class=number>1</span>][<span class=number>0</span>].set_title(<span class=string>"exp"</span>)</span><br><span class=line><span class=comment># 绘制对数函数</span></span><br><span class=line>ax[<span class=number>1</span>][<span class=number>1</span>].plot(x, np.log10(x))</span><br><span class=line>ax[<span class=number>1</span>][<span class=number>1</span>].set_title(<span class=string>"log"</span>)</span><br><span class=line></span><br><span class=line>plt.show()</span><br></pre></table></figure><p><img alt src=images/notes/matplotlib/1.15.2.svg><ul><li><strong><code>subplots(nrows, ncols)</code> 的另外一个例子。</strong><code>subplots()</code> 创建的<strong>若干个子图区域由 ax 表示</strong>。</ul><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line><span class=keyword>import</span> matplotlib.pyplot <span class=keyword>as</span> plt</span><br><span class=line></span><br><span class=line>x = np.arange(<span class=number>0</span>, <span class=number>100</span>)</span><br><span class=line></span><br><span class=line><span class=comment>#划分子图</span></span><br><span class=line>fig,axes=plt.subplots(<span class=number>2</span>,<span class=number>2</span>)</span><br><span class=line>ax1=axes[<span class=number>0</span>,<span class=number>0</span>]</span><br><span class=line>ax2=axes[<span class=number>0</span>,<span class=number>1</span>]</span><br><span class=line>ax3=axes[<span class=number>1</span>,<span class=number>0</span>]</span><br><span class=line>ax4=axes[<span class=number>1</span>,<span class=number>1</span>]</span><br><span class=line></span><br><span class=line><span class=comment>#作图 1</span></span><br><span class=line>ax1.plot(x, x)</span><br><span class=line></span><br><span class=line><span class=comment>#作图 2</span></span><br><span class=line>ax2.plot(x, -x)</span><br><span class=line></span><br><span class=line><span class=comment>#作图 3</span></span><br><span class=line>ax3.plot(x, x ** <span class=number>2</span>)</span><br><span class=line>ax3.grid(color=<span class=string>'r'</span>, linestyle=<span class=string>'--'</span>, linewidth=<span class=number>1</span>,alpha=<span class=number>0.3</span>)</span><br><span class=line></span><br><span class=line><span class=comment>#作图 4</span></span><br><span class=line>ax4.plot(x, np.log(x))</span><br><span class=line></span><br><span class=line>plt.show()</span><br></pre></table></figure><p><img alt src=images/notes/matplotlib/1.15.3.svg><h2 id=创建多个子图面向对象的-api><a class=markdownIt-Anchor href=#创建多个子图面向对象的-api></a> 创建多个子图（面向对象的 API）</h2><ul><li><strong><code>add_subplot</code></strong> 与 <strong><code>add_axes</code></strong> 都是<strong>面向 figure 对象</strong>的创建子图的 API。注意：pyplot 的 API 中没有此命令。</ul><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line><span class=keyword>import</span> matplotlib.pyplot <span class=keyword>as</span> plt</span><br><span class=line></span><br><span class=line>x = np.arange(<span class=number>0</span>, <span class=number>100</span>)</span><br><span class=line></span><br><span class=line><span class=comment>#新建 figure 对象</span></span><br><span class=line>fig=plt.figure()</span><br><span class=line></span><br><span class=line><span class=comment>#新建子图 1</span></span><br><span class=line>ax1=fig.add_subplot(<span class=number>2</span>,<span class=number>2</span>,<span class=number>1</span>)</span><br><span class=line>ax1.plot(x, x)</span><br><span class=line></span><br><span class=line><span class=comment>#新建子图 3</span></span><br><span class=line>ax3=fig.add_subplot(<span class=number>2</span>,<span class=number>2</span>,<span class=number>3</span>)</span><br><span class=line>ax3.plot(x, x ** <span class=number>2</span>)</span><br><span class=line>ax3.grid(color=<span class=string>'r'</span>, linestyle=<span class=string>'--'</span>,</span><br><span class=line>linewidth=<span class=number>1</span>,alpha=<span class=number>0.3</span>)</span><br><span class=line></span><br><span class=line><span class=comment>#新建子图 4</span></span><br><span class=line>ax4=fig.add_subplot(<span class=number>2</span>,<span class=number>2</span>,<span class=number>4</span>)</span><br><span class=line>ax4.plot(x, np.log(x))</span><br><span class=line></span><br><span class=line>plt.show()</span><br></pre></table></figure><p><img alt src=images/notes/matplotlib/1.16.1.svg><ul><li><strong><code>add_subplot</code> 与<code>subplot</code>的区别</strong> <ul><li><code>subplot</code>方法属于** API 绘图**，而<code>add_subplot</code>方法为<strong>面向对象绘图</strong><li>使用<code>subplot</code>方法<strong>自动生产画布与轴域</strong>，而<code>add_subplot</code>方法<strong>需要先添加画布 figure，再在画布上添加轴域</strong>，<code>add_subplot</code>返回的即为子图的轴域<li>当绘制的子图之间出现遮挡，<strong><code>subplot</code>方法会绘制代码位置靠后的图形，而<code>add_subplot</code>则会绘制所有图形，只是出现遮挡</strong>。</ul><li><strong><code>add_subplot</code>方法：</strong></ul><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line><span class=keyword>import</span> matplotlib.pyplot <span class=keyword>as</span> plt</span><br><span class=line></span><br><span class=line>x = np.arange(<span class=number>0</span>, <span class=number>100</span>)</span><br><span class=line></span><br><span class=line><span class=comment># 新建 figure 对象</span></span><br><span class=line>fig = plt.figure()</span><br><span class=line></span><br><span class=line><span class=comment># 新建子图 1</span></span><br><span class=line>ax1 = fig.add_subplot(<span class=number>2</span>, <span class=number>2</span>, <span class=number>1</span>)</span><br><span class=line>ax1.plot(x, x)</span><br><span class=line></span><br><span class=line><span class=comment># 新建子图 3</span></span><br><span class=line>ax3 = fig.add_subplot(<span class=number>2</span>, <span class=number>2</span>, <span class=number>3</span>)</span><br><span class=line>ax3.plot(x, x**<span class=number>2</span>)</span><br><span class=line>ax3.grid(color=<span class=string>"r"</span>, linestyle=<span class=string>"--"</span>, linewidth=<span class=number>1</span>, alpha=<span class=number>0.3</span>)</span><br><span class=line></span><br><span class=line><span class=comment># 新建子图 4</span></span><br><span class=line>ax4 = fig.add_subplot(<span class=number>2</span>, <span class=number>2</span>, <span class=number>4</span>)</span><br><span class=line>ax4.plot(x, np.log(x))</span><br><span class=line></span><br><span class=line>plt.show()</span><br></pre></table></figure><p><img alt src=images/notes/matplotlib/1.16.3.svg><ul><li><strong><code>subplot</code>方法：</strong></ul><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line><span class=keyword>import</span> matplotlib.pyplot <span class=keyword>as</span> plt</span><br><span class=line></span><br><span class=line><span class=comment># 计算正弦和余弦曲线上的点的 x 和 y 坐标</span></span><br><span class=line>x = np.arange(<span class=number>0</span>, <span class=number>3</span> * np.pi, <span class=number>0.1</span>)</span><br><span class=line>y_sin = np.sin(x)</span><br><span class=line>y_cos = np.cos(x)</span><br><span class=line></span><br><span class=line><span class=comment># 建立 subplot 网格，高为 2，宽为 1</span></span><br><span class=line><span class=comment># 激活第一个 subplot</span></span><br><span class=line>plt.subplot(<span class=number>2</span>, <span class=number>1</span>, <span class=number>1</span>)</span><br><span class=line><span class=comment># 绘制第一个图像</span></span><br><span class=line>plt.plot(x, y_sin)</span><br><span class=line>plt.title(<span class=string>"Sine"</span>)</span><br><span class=line></span><br><span class=line><span class=comment># 将第二个 subplot 激活，并绘制第二个图像</span></span><br><span class=line>plt.subplot(<span class=number>2</span>, <span class=number>1</span>, <span class=number>2</span>)</span><br><span class=line>plt.plot(x, y_cos)</span><br><span class=line>plt.title(<span class=string>"Cosine"</span>)</span><br><span class=line></span><br><span class=line><span class=comment># 展示图像</span></span><br><span class=line>plt.show()</span><br></pre></table></figure><p><img alt src=images/notes/matplotlib/1.16.2.svg><ul><li><strong><code>add_axes</code>为新增子区域，该区域可以座落在 figure 内任意位置，且该区域可任意设置大小</strong>。</ul><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line><span class=keyword>import</span> matplotlib.pyplot <span class=keyword>as</span> plt</span><br><span class=line></span><br><span class=line><span class=comment>#新建 figure</span></span><br><span class=line>fig = plt.figure()</span><br><span class=line></span><br><span class=line><span class=comment># 定义数据</span></span><br><span class=line>x = [<span class=number>1</span>, <span class=number>2</span>, <span class=number>3</span>, <span class=number>4</span>, <span class=number>5</span>, <span class=number>6</span>, <span class=number>7</span>]</span><br><span class=line>y = [<span class=number>1</span>, <span class=number>3</span>, <span class=number>4</span>, <span class=number>2</span>, <span class=number>5</span>, <span class=number>8</span>, <span class=number>6</span>]</span><br><span class=line><span class=comment>#新建区域 ax1</span></span><br><span class=line><span class=comment>#figure 的百分比，从 figure 10%的位置开始绘制，宽高是 figure 的 80%</span></span><br><span class=line>left, bottom, width, height = <span class=number>0.1</span>, <span class=number>0.1</span>, <span class=number>0.8</span>, <span class=number>0.8</span></span><br><span class=line><span class=comment># 获得绘制的句柄</span></span><br><span class=line>ax1 = fig.add_axes([left, bottom, width, height])</span><br><span class=line>ax1.plot(x, y, <span class=string>'r'</span>)</span><br><span class=line>ax1.set_title(<span class=string>'area1'</span>)</span><br><span class=line></span><br><span class=line><span class=comment>#新增区域 ax2, 嵌套在 ax1 内</span></span><br><span class=line>left, bottom, width, height = <span class=number>0.2</span>, <span class=number>0.6</span>, <span class=number>0.25</span>, <span class=number>0.25</span></span><br><span class=line><span class=comment># 获得绘制的句柄</span></span><br><span class=line>ax2 = fig.add_axes([left, bottom, width, height])</span><br><span class=line>ax2.plot(x,y, <span class=string>'b'</span>)</span><br><span class=line>ax2.set_title(<span class=string>'area2'</span>)</span><br><span class=line></span><br><span class=line>plt.show()</span><br></pre></table></figure><p><img alt src=images/notes/matplotlib/1.16.4.svg><h2 id=双轴图><a class=markdownIt-Anchor href=#双轴图></a> 双轴图</h2><ul><li>在一些应用场景中，有时需要绘制<strong>两个 x 轴或两个 y 轴</strong>，这样可以更直观<br> 地显现图像，从而获取更有效的数据。<li>matplotlib 提供的 <strong><code>twinx()</code></strong> 和 <strong><code>twiny()</code></strong> 函数，<strong>除了可以实现绘制双<br> 轴的功能外，还可以使用不同的单位来绘制曲线</strong>，比如一个轴绘制对数函数，另外一个轴绘制指数函数。</ul><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> matplotlib.pyplot <span class=keyword>as</span> plt</span><br><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line></span><br><span class=line><span class=comment>#创建图形对象</span></span><br><span class=line>fig = plt.figure()</span><br><span class=line><span class=comment>#添加子图区域</span></span><br><span class=line>a1 = fig.add_axes([<span class=number>0</span>,<span class=number>0</span>,<span class=number>1</span>,<span class=number>1</span>])</span><br><span class=line></span><br><span class=line><span class=comment>#准备数据</span></span><br><span class=line>x = np.arange(<span class=number>1</span>,<span class=number>11</span>)</span><br><span class=line></span><br><span class=line><span class=comment>#绘制指数函数</span></span><br><span class=line>a1.plot(x,np.exp(x))</span><br><span class=line>a1.set_ylabel(<span class=string>'exp'</span>)</span><br><span class=line></span><br><span class=line><span class=comment>#添加双轴</span></span><br><span class=line>a2 = a1.twinx()</span><br><span class=line><span class=comment>#绘制对数函数</span></span><br><span class=line>a2.plot(x, np.log(x),<span class=string>'ro-'</span>)</span><br><span class=line>a2.set_ylabel(<span class=string>'log'</span>)</span><br><span class=line></span><br><span class=line><span class=comment>#绘制图例</span></span><br><span class=line>fig.legend(labels = (<span class=string>'exp'</span>,<span class=string>'log'</span>), loc=<span class=number>2</span>)</span><br><span class=line>plt.show()</span><br></pre></table></figure><p><img alt src=images/notes/matplotlib/1.17.1.svg><h2 id=移动坐标轴位置><a class=markdownIt-Anchor href=#移动坐标轴位置></a> 移动坐标轴位置</h2><ul><li>有时候需要移动坐标到某些位置，这样看曲线更加方便，比如像下图：<br> <img alt src=https://i-blog.csdnimg.cn/blog_migrate/29437f3b9232d37327868f74a0aa89c5.png><li>matplotlib 中一个图默认是有四个坐标轴线，简称为 spines。这四个轴通过 top、bottom、left、right 来访问。要想实现前面的图那样显示坐标轴，主要要解决两个问题，第一个问题，就是要隐藏上面和右边两条没有用到的坐标轴；第二个问题是移动左边和下面的坐标轴的位置。<br> <img alt src=https://i-blog.csdnimg.cn/blog_migrate/99db76ed7cf348d2b36e8fee30bd52f0.png></ul><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> matplotlib.pyplot <span class=keyword>as</span> plt</span><br><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line></span><br><span class=line><span class=comment>#创建图形对象</span></span><br><span class=line>fig = plt.figure()</span><br><span class=line><span class=comment>#添加子图区域</span></span><br><span class=line>a1 = fig.add_axes([<span class=number>0</span>,<span class=number>0</span>,<span class=number>1</span>,<span class=number>1</span>])</span><br><span class=line></span><br><span class=line><span class=comment>#准备数据</span></span><br><span class=line>x = np.arange(-<span class=number>10</span>,<span class=number>10</span>,<span class=number>0.1</span>)</span><br><span class=line></span><br><span class=line><span class=comment>#绘制指数函数</span></span><br><span class=line>a1.plot(x, x**<span class=number>2</span>, color=<span class=string>'orange'</span>, linewidth=<span class=number>3</span>)</span><br><span class=line>a1.plot(x, <span class=number>0.7</span>*x, <span class=string>'b--'</span>)</span><br><span class=line></span><br><span class=line>a1.set_xlabel(<span class=string>'x axis'</span>)</span><br><span class=line>a1.set_ylabel(<span class=string>'y axis'</span>)</span><br><span class=line></span><br><span class=line><span class=comment>#隐藏右边和上边</span></span><br><span class=line>a1.spines[<span class=string>'right'</span>].set_visible(<span class=literal>False</span>)</span><br><span class=line>a1.spines[<span class=string>'top'</span>].set_visible(<span class=literal>False</span>)</span><br><span class=line></span><br><span class=line>a1.set_ylim(-<span class=number>20</span>, <span class=number>80</span>)</span><br><span class=line>a1.set_xlim(-<span class=number>7.5</span>, <span class=number>7.5</span>)</span><br><span class=line></span><br><span class=line><span class=comment># 移动到左边的 y 轴</span></span><br><span class=line>a1.spines[<span class=string>'left'</span>].set_position((<span class=string>'data'</span>, <span class=number>0</span>))</span><br><span class=line><span class=comment># 移动到下边的 x 轴</span></span><br><span class=line>a1.spines[<span class=string>'bottom'</span>].set_position((<span class=string>'data'</span>, <span class=number>0</span>))</span><br><span class=line></span><br><span class=line>plt.show()</span><br></pre></table></figure><p><img alt src=images/notes/matplotlib/1.18.1.svg><h2 id=matplotlib-grid-设置网格格式><a class=markdownIt-Anchor href=#matplotlib-grid-设置网格格式></a> matplotlib grid() 设置网格格式</h2><ul><li>matplotlib axes 对象提供的 <strong><code>grid()</code></strong> 方法可以开启或者关闭画布中的网格。除此之外，<code>grid()</code> 函数还可以设置网格的颜色、线型以及线宽等属性。<code>grid()</code> 的函数使用格式如下：</ul><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>grid(color=<span class=string>'b'</span>, ls = <span class=string>'-.'</span>, lw = <span class=number>0.25</span>)</span><br></pre></table></figure><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> matplotlib.pyplot <span class=keyword>as</span> plt</span><br><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line></span><br><span class=line><span class=comment># fig 画布；axes 子图区域</span></span><br><span class=line>fig, axes = plt.subplots(<span class=number>1</span>, <span class=number>3</span>, figsize=(<span class=number>12</span>, <span class=number>4</span>))</span><br><span class=line>x = np.arange(<span class=number>1</span>, <span class=number>11</span>)</span><br><span class=line></span><br><span class=line>axes[<span class=number>0</span>].plot(x, x**<span class=number>3</span>, <span class=string>"g"</span>, lw=<span class=number>2</span>)</span><br><span class=line></span><br><span class=line><span class=comment># 开启网格</span></span><br><span class=line>axes[<span class=number>0</span>].grid(<span class=literal>True</span>)</span><br><span class=line>axes[<span class=number>0</span>].set_title(<span class=string>"default grid"</span>)</span><br><span class=line>axes[<span class=number>1</span>].plot(x, np.exp(x), <span class=string>"r"</span>)</span><br><span class=line></span><br><span class=line><span class=comment># 设置网格的颜色，线型，线宽</span></span><br><span class=line>axes[<span class=number>1</span>].grid(color=<span class=string>"b"</span>, ls=<span class=string>"-."</span>, lw=<span class=number>0.25</span>)</span><br><span class=line>axes[<span class=number>1</span>].set_title(<span class=string>"custom grid"</span>)</span><br><span class=line></span><br><span class=line>axes[<span class=number>2</span>].plot(x, x)</span><br><span class=line>axes[<span class=number>2</span>].set_title(<span class=string>"no grid"</span>)</span><br><span class=line></span><br><span class=line>fig.tight_layout()</span><br><span class=line>plt.show()</span><br></pre></table></figure><p><img alt src=images/notes/matplotlib/1.19.1.svg><ul><li><strong>注意：<code>fig.tight_layout()</code></strong> 使得子图横纵坐标更加紧凑，主要用于自动调整图区的大小以及间距，使所有的绘图及其标题、坐标轴标签等都可以不重叠的完整显示在画布上。</ul><h2 id=刻度和刻度标签><a class=markdownIt-Anchor href=#刻度和刻度标签></a> 刻度和刻度标签</h2><ul><li>刻度指的是轴上数据点的标记，matplotlib 能够自动的在 x 、y 轴上绘制出刻度，但是在某些情况下，刻度标签或刻度也需要满足特定的要求。注意：通过轴对象设置刻度时需要分别通过<code>set_xticklabels()</code> 和 <code>set_yticklabels()</code> 函数设置与刻度线相对应的刻度标签。</ul><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> matplotlib.pyplot <span class=keyword>as</span> plt</span><br><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line><span class=keyword>import</span> math</span><br><span class=line></span><br><span class=line>x = np.arange(<span class=number>0</span>, math.pi * <span class=number>2</span>, <span class=number>0.05</span>)</span><br><span class=line><span class=comment># 生成画布对象</span></span><br><span class=line>fig = plt.figure()</span><br><span class=line><span class=comment># 添加绘图区域</span></span><br><span class=line>ax = fig.add_axes([<span class=number>0.1</span>, <span class=number>0.1</span>, <span class=number>0.8</span>, <span class=number>0.8</span>])</span><br><span class=line>y = np.sin(x)</span><br><span class=line>ax.plot(x, y)</span><br><span class=line><span class=comment># 设置 x 轴标签</span></span><br><span class=line>ax.set_xlabel(<span class=string>"angle"</span>)</span><br><span class=line>ax.set_title(<span class=string>"sine"</span>)</span><br><span class=line>ax.set_xticks([<span class=number>0</span>, <span class=number>2</span>, <span class=number>5</span>, <span class=number>6</span>])</span><br><span class=line></span><br><span class=line><span class=comment># 设置 x 轴刻度标签</span></span><br><span class=line>ax.set_xticklabels([<span class=string>"zero"</span>, <span class=string>"two"</span>, <span class=string>"five"</span>, <span class=string>"six"</span>])</span><br><span class=line><span class=comment># 设置 y 轴刻度</span></span><br><span class=line>ax.set_yticks([-<span class=number>1</span>, <span class=number>0</span>, <span class=number>1</span>])</span><br><span class=line>plt.show()</span><br></pre></table></figure><p><img alt src=images/notes/matplotlib/1.20.1.svg><ul><li><code>matplotlib.ticker.AutoMinorLocator(n)</code>类用于根据主要刻度的位置动态设置<strong>次要刻度</strong>的位置。主刻度线需要与线性刻度均匀地间隔开。n 表示主要刻度之间的时间间隔的细分数量。</ul><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> matplotlib.pyplot <span class=keyword>as</span> plt</span><br><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line><span class=keyword>import</span> math</span><br><span class=line><span class=keyword>from</span> matplotlib.ticker <span class=keyword>import</span> AutoMinorLocator</span><br><span class=line></span><br><span class=line>x = np.arange(<span class=number>0</span>, math.pi*<span class=number>2</span>, <span class=number>0.05</span>)</span><br><span class=line><span class=comment>#生成画布对象</span></span><br><span class=line>fig = plt.figure()</span><br><span class=line><span class=comment>#添加绘图区域</span></span><br><span class=line>ax = fig.add_axes([<span class=number>0.1</span>, <span class=number>0.1</span>, <span class=number>0.8</span>, <span class=number>0.8</span>])</span><br><span class=line>y = np.sin(x)</span><br><span class=line>ax.plot(x, y)</span><br><span class=line><span class=comment>#设置 x 轴标签</span></span><br><span class=line>ax.set_xlabel(<span class=string>'angle'</span>)</span><br><span class=line>ax.set_title(<span class=string>'sine'</span>)</span><br><span class=line>ax.set_xticks([<span class=number>0</span>,<span class=number>2</span>,<span class=number>4</span>,<span class=number>6</span>])</span><br><span class=line></span><br><span class=line><span class=comment>#设置 x 轴刻度标签</span></span><br><span class=line>ax.set_xticklabels([<span class=string>'zero'</span>,<span class=string>'two'</span>,<span class=string>'four'</span>,<span class=string>'six'</span>])</span><br><span class=line>minor_locator = AutoMinorLocator(<span class=number>5</span>)</span><br><span class=line>ax.xaxis.set_minor_locator(minor_locator)</span><br><span class=line><span class=comment>#设置 y 轴刻度</span></span><br><span class=line>ax.set_yticks([-<span class=number>1</span>,<span class=number>0</span>,<span class=number>1</span>])</span><br><span class=line>plt.show()</span><br></pre></table></figure><p><img alt src=images/notes/matplotlib/1.20.2.svg><h2 id=matplotlib-数学表达式><a class=markdownIt-Anchor href=#matplotlib-数学表达式></a> matplotlib 数学表达式</h2><ul><li>matplotlib 中的数学公式都可以使用 Text Markup（文本标记语言）显现出来，具体的使用方法是将文本标记符放在一对、$内。这样，matplotlib 会使用其内置的 Latex 引擎绘制数学公式。</ul><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line><span class=keyword>import</span> matplotlib.pyplot <span class=keyword>as</span> plt</span><br><span class=line></span><br><span class=line>t = np.arange(<span class=number>0.0</span>, <span class=number>2.0</span>, <span class=number>0.01</span>)</span><br><span class=line>s = np.sin(<span class=number>2</span>*np.pi*t)</span><br><span class=line></span><br><span class=line><span class=comment>#绘制函数图像</span></span><br><span class=line>plt.plot(t,s)</span><br><span class=line></span><br><span class=line><span class=comment>#设置标题</span></span><br><span class=line>plt.title(<span class=string>r'$\alpha_i> \beta_i$'</span>, fontsize=<span class=number>20</span>)</span><br><span class=line></span><br><span class=line><span class=comment>#设置数学表达式</span></span><br><span class=line>plt.text(<span class=number>0.45</span>, <span class=number>0.6</span>, <span class=string>r'$\mathrm{sin}(2 \pi t)$'</span>, fontsize = <span class=number>20</span>)</span><br><span class=line><span class=comment>#设置数学表达式</span></span><br><span class=line>plt.text(<span class=number>0.1</span>, -<span class=number>0.5</span>, <span class=string>r'$\sqrt{2}$'</span>, fontsize=<span class=number>10</span>)</span><br><span class=line></span><br><span class=line>plt.xlabel(<span class=string>'time (s)'</span>)</span><br><span class=line>plt.ylabel(<span class=string>'volts (mV)'</span>)</span><br><span class=line></span><br><span class=line>plt.show()</span><br></pre></table></figure><p><img alt src=images/notes/matplotlib/1.21.1.svg><h2 id=显示中文字体><a class=markdownIt-Anchor href=#显示中文字体></a> 显示中文字体</h2><ul><li>为了正确显示中文字体，请用以下代码更改默认设置，其中<code>'SimHei'</code>表示黑体字。</ul><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> matplotlib.pyplot <span class=keyword>as</span> plt</span><br><span class=line></span><br><span class=line><span class=comment># 设置字体</span></span><br><span class=line>plt.rcParams[<span class=string>"font.sans-serif"</span>] = [<span class=string>"SimHei"</span>]</span><br><span class=line><span class=comment># 该语句解决图像中的“-”负号的乱码问题'</span></span><br><span class=line></span><br><span class=line>plt.rcParams[<span class=string>"axes.unicode_minus"</span>] = <span class=literal>False</span></span><br><span class=line></span><br><span class=line>x = np.linspace(<span class=number>0</span>, <span class=number>4</span> * np.pi)</span><br><span class=line>y = np.sin(x)</span><br><span class=line></span><br><span class=line>plt.title(<span class=string>"sin 曲线"</span>)</span><br><span class=line>plt.plot(x, y, <span class=string>"g-"</span>, label=<span class=string>"$sin(x)$"</span>)</span><br><span class=line></span><br><span class=line>plt.show()</span><br></pre></table></figure><p><img alt src=images/notes/matplotlib/1.22.1.svg><h2 id=matplotlib-绘制文本><a class=markdownIt-Anchor href=#matplotlib-绘制文本></a> matplotlib 绘制文本</h2><ul><li>matplotlib 可以通过下表中的方法可以绘制出相应的内容。与此同时，matplotlib 也支持绘制 Latex 包含的数学符号。</ul><table><thead><tr><th>参数<th>说明<tbody><tr><td>text<td>在绘图区域的任意位置添加文本。<tr><td>annotate<td>在绘图区域的任意位置添加带有可选箭头的注释。<tr><td>xlabel<td>在绘图区域的 x 轴上添加标签。<tr><td>ylabel<td>在绘图区域的 y 轴上添加标签。<tr><td>title<td>为绘图区域添加标题。<tr><td>figtext<td>在画布的任意位置添加文本。<tr><td>suptitle<td>为画布中添加标题。</table><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> matplotlib.pyplot <span class=keyword>as</span> plt</span><br><span class=line></span><br><span class=line>plt.rcParams[<span class=string>"font.sans-serif"</span>]=[<span class=string>"SimHei"</span>] <span class=comment>#设置字体</span></span><br><span class=line>plt.rcParams[<span class=string>"axes.unicode_minus"</span>]=<span class=literal>False</span> <span class=comment>#正常显示负号</span></span><br><span class=line></span><br><span class=line>plt.title(<span class=string>'axes title'</span>)</span><br><span class=line>plt.xlabel(<span class=string>'xlabel'</span>)</span><br><span class=line>plt.ylabel(<span class=string>'ylabel'</span>)</span><br><span class=line></span><br><span class=line><span class=comment># 3,8 表示 x，y 的坐标点；style 设置字体样式为斜体；bbox 用来设置盒子的属性，比如背景色</span></span><br><span class=line>plt.text(<span class=number>3</span>, <span class=number>8</span>, <span class=string>'C 语言中网网，编程爱好者都喜欢的网站'</span>, style=<span class=string>'italic'</span>,bbox = {<span class=string>'facecolor'</span>: <span class=string>'yellow'</span>},fontsize=<span class=number>15</span>)</span><br><span class=line>plt.text(<span class=number>2</span>, <span class=number>6</span>, <span class=string>r'an equation: $E = mc^2$'</span>, fontsize = <span class=number>15</span>)</span><br><span class=line></span><br><span class=line><span class=comment>#添加文字，并设置样式</span></span><br><span class=line>plt.text(<span class=number>4</span>, <span class=number>0.05</span>, <span class=string>'网址：c.biancheng.net'</span>,verticalalignment = <span class=string>'bottom'</span>, color = <span class=string>'green'</span>, fontsize = <span class=number>15</span>)</span><br><span class=line>plt.plot([<span class=number>2</span>], [<span class=number>1</span>], <span class=string>'o'</span>)</span><br><span class=line></span><br><span class=line><span class=comment>#xy 为点的坐标；xytext 为注释内容坐标；arrowprops 设置箭头的属性</span></span><br><span class=line>plt.annotate(<span class=string>'C 语言中文网'</span>, xy = (<span class=number>2</span>, <span class=number>1</span>), xytext = (<span class=number>3</span>, <span class=number>4</span>),arrowprops = <span class=built_in>dict</span>(facecolor = <span class=string>'blue'</span>, shrink = <span class=number>0.1</span>))</span><br><span class=line></span><br><span class=line>plt.xlim(<span class=number>0</span>, <span class=number>10</span>)</span><br><span class=line>plt.ylim(<span class=number>0</span>, <span class=number>10</span>)</span><br><span class=line></span><br><span class=line>plt.show()</span><br></pre></table></figure><p><img alt src=images/notes/matplotlib/1.23.1.svg><h2 id=添加数据标签><a class=markdownIt-Anchor href=#添加数据标签></a> 添加数据标签</h2><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> matplotlib.pyplot <span class=keyword>as</span> plt</span><br><span class=line></span><br><span class=line><span class=comment># x axis values</span></span><br><span class=line>x = [<span class=number>1</span>, <span class=number>2</span>, <span class=number>3</span>, <span class=number>4</span>, <span class=number>5</span>, <span class=number>6</span>]</span><br><span class=line><span class=comment># corresponding y axis values</span></span><br><span class=line>y = [<span class=number>2</span>, <span class=number>4</span>, <span class=number>1</span>, <span class=number>5</span>, <span class=number>2</span>, <span class=number>6</span>]</span><br><span class=line></span><br><span class=line><span class=comment># plotting the points</span></span><br><span class=line>plt.plot(x, y, color=<span class=string>"green"</span>, linestyle=<span class=string>"dashed"</span>, linewidth=<span class=number>1</span>, marker=<span class=string>"o"</span>, markerfacecolor=<span class=string>"blue"</span>, markersize=<span class=number>3</span>)</span><br><span class=line></span><br><span class=line><span class=comment># setting x and y axis range</span></span><br><span class=line>plt.ylim(<span class=number>1</span>, <span class=number>8</span>)</span><br><span class=line>plt.xlim(<span class=number>1</span>, <span class=number>8</span>)</span><br><span class=line></span><br><span class=line><span class=comment># naming the x axis</span></span><br><span class=line>plt.xlabel(<span class=string>"x - axis"</span>)</span><br><span class=line><span class=comment># naming the y axis</span></span><br><span class=line>plt.ylabel(<span class=string>"y - axis"</span>)</span><br><span class=line></span><br><span class=line><span class=comment># giving a title to my graph</span></span><br><span class=line>plt.title(<span class=string>"Some cool customizations!"</span>)</span><br><span class=line></span><br><span class=line><span class=keyword>for</span> a, b <span class=keyword>in</span> <span class=built_in>zip</span>(x, y):</span><br><span class=line>    plt.text(a, b + <span class=number>0.1</span>, <span class=string>"%d"</span> % b, ha=<span class=string>"center"</span>, va=<span class=string>"bottom"</span>, fontsize=<span class=number>12</span>)</span><br><span class=line></span><br><span class=line>plt.show()</span><br></pre></table></figure><p><img alt src=images/notes/matplotlib/1.24.1.svg><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> matplotlib.pyplot <span class=keyword>as</span> plt</span><br><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line></span><br><span class=line><span class=comment># heights of bars</span></span><br><span class=line>height = [<span class=number>10</span>, <span class=number>24</span>, <span class=number>36</span>, <span class=number>40</span>, <span class=number>5</span>]</span><br><span class=line></span><br><span class=line><span class=comment># labels for bars</span></span><br><span class=line>names = [<span class=string>"one"</span>, <span class=string>"two"</span>, <span class=string>"three"</span>, <span class=string>"four"</span>, <span class=string>"five"</span>]</span><br><span class=line></span><br><span class=line><span class=comment># plotting a bar chart</span></span><br><span class=line>c1 = [<span class=string>"red"</span>, <span class=string>"green"</span>]</span><br><span class=line>c2 = [<span class=string>"b"</span>, <span class=string>"g"</span>]  <span class=comment># we can use this for color</span></span><br><span class=line>index = np.arange(<span class=built_in>len</span>(names))</span><br><span class=line>plt.bar(index, height, width=<span class=number>0.8</span>, color=c1)</span><br><span class=line><span class=comment># naming the x-axis</span></span><br><span class=line>plt.xlabel(<span class=string>"x - axis"</span>)</span><br><span class=line>plt.xticks(index, names)</span><br><span class=line><span class=comment># naming the y-axis</span></span><br><span class=line>plt.ylabel(<span class=string>"y - axis"</span>)</span><br><span class=line><span class=comment># plot title</span></span><br><span class=line>plt.title(<span class=string>"My bar chart!"</span>)</span><br><span class=line></span><br><span class=line><span class=keyword>for</span> a, b <span class=keyword>in</span> <span class=built_in>zip</span>(index, height):</span><br><span class=line>    plt.text(a, b, <span class=string>"%d"</span> % b, ha=<span class=string>"center"</span>, va=<span class=string>"bottom"</span>, fontsize=<span class=number>12</span>)</span><br><span class=line></span><br><span class=line>plt.show()</span><br></pre></table></figure><p><img alt src=images/notes/matplotlib/1.24.2.svg><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> matplotlib.pyplot <span class=keyword>as</span> plt</span><br><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line></span><br><span class=line><span class=comment># heights of bars</span></span><br><span class=line>height = [<span class=number>10</span>, <span class=number>24</span>, <span class=number>36</span>, <span class=number>40</span>, <span class=number>5</span>]</span><br><span class=line></span><br><span class=line><span class=comment># labels for bars</span></span><br><span class=line>names = [<span class=string>"one"</span>, <span class=string>"two"</span>, <span class=string>"three"</span>, <span class=string>"four"</span>, <span class=string>"five"</span>]</span><br><span class=line></span><br><span class=line><span class=comment># plotting a bar chart</span></span><br><span class=line>c1 = [<span class=string>"red"</span>, <span class=string>"green"</span>]</span><br><span class=line>c2 = [<span class=string>"b"</span>, <span class=string>"g"</span>]  <span class=comment># we can use this for color</span></span><br><span class=line>index = np.arange(<span class=built_in>len</span>(names))</span><br><span class=line>bar = plt.bar(index, height, width=<span class=number>0.8</span>, color=c1)</span><br><span class=line><span class=comment># naming the x-axis</span></span><br><span class=line>plt.xlabel(<span class=string>"x - axis"</span>)</span><br><span class=line>plt.xticks(index, names)</span><br><span class=line><span class=comment># naming the y-axis</span></span><br><span class=line>plt.ylabel(<span class=string>"y - axis"</span>)</span><br><span class=line><span class=comment># plot title</span></span><br><span class=line>plt.title(<span class=string>"My bar chart!"</span>)</span><br><span class=line></span><br><span class=line>plt.bar_label(bar, fmt=<span class=string>"%d"</span>)</span><br><span class=line></span><br><span class=line>plt.show()</span><br></pre></table></figure><p><img alt src=images/notes/matplotlib/1.24.3.svg><ul><li><strong>注意</strong>：<code>bar_label</code>的使用要求 matplotlib 版本大于等于 3.4.1，如果版本较低，是无法进行该操作的。</ul><h2 id=多边形颜色填充><a class=markdownIt-Anchor href=#多边形颜色填充></a> 多边形颜色填充</h2><ul><li>图表又需要使用不同的颜色来区分数据，比如数据重叠区，比如数据交叉区。<li>每个简单的多边形可以使用 x 坐标和 y 坐标构造，只要把这些点连接一起，再把里面的空间进行指定的颜色填充。 <ul><li><code>ax.fill(x, y)</code> # 使用默认的颜色填充一个多边形<li><code>ax.fill(x, y, "b")</code> # 使用蓝色填充一个多边形<li><code>ax.fill(x, y, x2, y2)</code> # 使用默认颜色填充两个多边形<li><code>ax.fill(x, y, "b", x2, y2, "r")</code> # 一个蓝色，一个红色</ul></ul><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line><span class=keyword>import</span> matplotlib.pyplot <span class=keyword>as</span> plt</span><br><span class=line></span><br><span class=line><span class=comment># 创建子图，等同于 ax=plt.subplot(111)</span></span><br><span class=line>fig, ax = plt.subplots()</span><br><span class=line>ax.grid(<span class=literal>False</span>)</span><br><span class=line></span><br><span class=line>ax.set_xlim(<span class=number>0</span>, <span class=number>100</span>)</span><br><span class=line>ax.set_ylim(<span class=number>0</span>, <span class=number>100</span>)</span><br><span class=line></span><br><span class=line><span class=comment># 填充三角形</span></span><br><span class=line>x = [<span class=number>10</span>, <span class=number>20</span>, <span class=number>30</span>]</span><br><span class=line>y = [<span class=number>20</span>, <span class=number>80</span>, <span class=number>20</span>]</span><br><span class=line>ax.fill(x, y, color=<span class=string>"b"</span>)</span><br><span class=line></span><br><span class=line><span class=comment># 填充四边形</span></span><br><span class=line>x = [<span class=number>40</span>, <span class=number>50</span>, <span class=number>50</span>, <span class=number>40</span>]</span><br><span class=line>y = [<span class=number>20</span>, <span class=number>20</span>, <span class=number>40</span>, <span class=number>40</span>]</span><br><span class=line>ax.fill(x, y, color=<span class=string>"r"</span>)</span><br><span class=line></span><br><span class=line>plt.show()</span><br></pre></table></figure><p><img alt src=images/notes/matplotlib/1.25.1.svg><ul><li>有时候需要进行不规则图形的填充，或者两条曲线相交的部分进行填充，就需要使用函数<code>host.fill_between()</code>。<br> <code>matplotlib.pyplot.fill_between(x, y1, y2, where=None, interpolate=False, step=None, *, data=None, **kwargs)</code><li>此函数用来填充两条水平曲线之间的区域，区域在点<code>(x, y1)</code> 和<code>(x, y2)</code>之间，如果还想有条件地选择区域，可以采用<code>where</code>参数</ul><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line><span class=keyword>import</span> matplotlib.pyplot <span class=keyword>as</span> plt</span><br><span class=line></span><br><span class=line>fig, host = plt.subplots()</span><br><span class=line></span><br><span class=line>host.set_xlim(<span class=number>0</span>, <span class=number>2</span>*np.pi)</span><br><span class=line>host.set_ylim(-<span class=number>2</span>, <span class=number>2</span>)</span><br><span class=line></span><br><span class=line><span class=comment>#填充正弦曲线</span></span><br><span class=line>x = np.linspace(<span class=number>0</span>, <span class=number>2</span>*np.pi, <span class=number>100</span>)</span><br><span class=line>y = np.sin(x)</span><br><span class=line></span><br><span class=line>host.fill_between(x,y, <span class=number>0</span>, color = <span class=string>'r'</span>)</span><br><span class=line>host.plot(x, y, color = <span class=string>'b'</span>, alpha = <span class=number>0.8</span>)</span><br><span class=line>host.plot([<span class=number>0</span>, <span class=number>2</span>*np.pi], [<span class=number>0</span>, <span class=number>0</span>], color = <span class=string>'b'</span>, alpha = <span class=number>0.8</span>)</span><br><span class=line></span><br><span class=line>plt.show()</span><br></pre></table></figure><p><img alt src=images/notes/matplotlib/1.25.2.svg><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line><span class=keyword>import</span> matplotlib.pyplot <span class=keyword>as</span> plt</span><br><span class=line></span><br><span class=line>fig, ax = plt.subplots()</span><br><span class=line></span><br><span class=line>ax.set_xlim(<span class=number>0</span>, <span class=number>2</span> * np.pi)</span><br><span class=line>ax.set_ylim(-<span class=number>2</span>, <span class=number>2</span>)</span><br><span class=line></span><br><span class=line><span class=comment># 填充正弦曲线</span></span><br><span class=line>x = np.linspace(<span class=number>0</span>, <span class=number>2</span> * np.pi, <span class=number>100</span>)</span><br><span class=line>y = np.sin(x)</span><br><span class=line></span><br><span class=line>ax.fill_between(x, y, <span class=number>0</span>, where=(x > np.pi) & (y < -<span class=number>0.5</span>), color=<span class=string>"r"</span>)</span><br><span class=line>ax.plot(x, y, color=<span class=string>"b"</span>, alpha=<span class=number>0.8</span>)</span><br><span class=line>ax.plot([<span class=number>0</span>, <span class=number>2</span> * np.pi], [<span class=number>0</span>, <span class=number>0</span>], color=<span class=string>"b"</span>, alpha=<span class=number>0.8</span>)</span><br><span class=line></span><br><span class=line>plt.show()</span><br></pre></table></figure><p><img alt src=images/notes/matplotlib/1.25.3.svg><h2 id=3d-绘图><a class=markdownIt-Anchor href=#3d-绘图></a> 3D 绘图</h2><ul><li>最初开发的 matplotlib，仅支持绘制 2D 图形，后来随着版本的不断更新，matplotlib 在二维绘图的基础上，构建了一部分较为实用的 3D 绘图程序包，比如 <code>mpl_toolkits.mplot3d</code>，通过调用该程序包一些接口可以绘制 3D 散点图、3D 曲面图、3D 线框图等。</ul><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br></pre><td class=code><pre><span class=line><span class=keyword>from</span> mpl_toolkits <span class=keyword>import</span> mplot3d</span><br><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line><span class=keyword>import</span> matplotlib.pyplot <span class=keyword>as</span> plt</span><br><span class=line></span><br><span class=line>fig = plt.figure()</span><br><span class=line><span class=comment># 创建 3d 绘图区域，axes() 默认创建一个 subplot(111) 坐标系</span></span><br><span class=line>ax = plt.axes(projection=<span class=string>"3d"</span>)</span><br><span class=line></span><br><span class=line><span class=comment># 从三个维度构建</span></span><br><span class=line>z = np.linspace(<span class=number>0</span>, <span class=number>1</span>, <span class=number>100</span>)</span><br><span class=line>x = z * np.sin(<span class=number>20</span> * z)</span><br><span class=line>y = z * np.cos(<span class=number>20</span> * z)</span><br><span class=line></span><br><span class=line><span class=comment># 调用 ax.plot3D 创建三维线图</span></span><br><span class=line>ax.plot3D(x, y, z, <span class=string>"b"</span>)</span><br><span class=line>ax.set_title(<span class=string>"3D line plot"</span>)</span><br><span class=line>plt.show()</span><br></pre></table></figure><p><img alt src=images/notes/matplotlib/1.26.1.svg><ul><li>通过 <code>ax.scatter3D()</code> 函数可以绘制 <strong>3D 散点图</strong>，代码如下：</ul><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br></pre><td class=code><pre><span class=line><span class=keyword>from</span> mpl_toolkits <span class=keyword>import</span> mplot3d</span><br><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line><span class=keyword>import</span> matplotlib.pyplot <span class=keyword>as</span> plt</span><br><span class=line></span><br><span class=line>fig = plt.figure()</span><br><span class=line><span class=comment># 创建 3d 绘图区域，axes() 默认创建一个 subplot(111) 坐标系</span></span><br><span class=line>ax = plt.axes(projection=<span class=string>"3d"</span>)</span><br><span class=line></span><br><span class=line><span class=comment># 构建 xyz</span></span><br><span class=line>z = np.linspace(<span class=number>0</span>, <span class=number>1</span>, <span class=number>100</span>)</span><br><span class=line>x = z * np.sin(<span class=number>20</span> * z)</span><br><span class=line>y = z * np.cos(<span class=number>20</span> * z)</span><br><span class=line>c = x + y</span><br><span class=line></span><br><span class=line>ax.scatter3D(x, y, z, c=c)</span><br><span class=line>ax.set_title(<span class=string>"3D line plot"</span>)</span><br><span class=line>plt.show()</span><br></pre></table></figure><p><img alt src=images/notes/matplotlib/1.26.2.svg><ul><li><code>ax.contour3D()</code> 可以用来创建 <strong>3D 等高线图</strong>，该函数要求输入数据均采用二维网格式的矩阵坐标。同时，它可以在每个网格点<code>(x,y)</code>处计算出一个 z 值。</ul><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br></pre><td class=code><pre><span class=line><span class=keyword>from</span> mpl_toolkits <span class=keyword>import</span> mplot3d</span><br><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line><span class=keyword>import</span> matplotlib.pyplot <span class=keyword>as</span> plt</span><br><span class=line></span><br><span class=line><span class=keyword>def</span> <span class="title function_">f</span>(<span class=params>x, y</span>):</span><br><span class=line>    <span class=keyword>return</span> np.sin(np.sqrt(x**<span class=number>2</span> + y**<span class=number>2</span>))</span><br><span class=line></span><br><span class=line><span class=comment># 构建 x、y 数据</span></span><br><span class=line>x = np.linspace(-<span class=number>6</span>, <span class=number>6</span>, <span class=number>30</span>)</span><br><span class=line>y = np.linspace(-<span class=number>6</span>, <span class=number>6</span>, <span class=number>30</span>)</span><br><span class=line></span><br><span class=line><span class=comment># 将数据网格化处理</span></span><br><span class=line>X, Y = np.meshgrid(x, y)</span><br><span class=line>Z = f(X, Y)</span><br><span class=line>fig = plt.figure()</span><br><span class=line>ax = plt.axes(projection=<span class=string>"3d"</span>)</span><br><span class=line></span><br><span class=line><span class=comment># 50 表示在 z 轴方向等高线的高度层级，binary 颜色从白色变成黑色</span></span><br><span class=line>ax.contour3D(X, Y, Z, <span class=number>50</span>, cmap=<span class=string>"binary"</span>)</span><br><span class=line>ax.set_xlabel(<span class=string>"x"</span>)</span><br><span class=line>ax.set_ylabel(<span class=string>"y"</span>)</span><br><span class=line>ax.set_zlabel(<span class=string>"z"</span>)</span><br><span class=line>ax.set_title(<span class=string>"3D contour"</span>)</span><br><span class=line>plt.show()</span><br></pre></table></figure><p><img alt src=images/notes/matplotlib/1.26.3.svg><ul><li><strong>3D 线框图</strong>同样要采用二维网格形式的数据，与绘制等高线图类似。</ul><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br></pre><td class=code><pre><span class=line><span class=keyword>from</span> mpl_toolkits <span class=keyword>import</span> mplot3d</span><br><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line><span class=keyword>import</span> matplotlib.pyplot <span class=keyword>as</span> plt</span><br><span class=line></span><br><span class=line><span class=comment># 要绘制函数图像</span></span><br><span class=line><span class=keyword>def</span> <span class="title function_">f</span>(<span class=params>x, y</span>):</span><br><span class=line>    <span class=keyword>return</span> np.sin(np.sqrt(x**<span class=number>2</span> + y**<span class=number>2</span>))</span><br><span class=line></span><br><span class=line><span class=comment># 准备 x,y 数据</span></span><br><span class=line>x = np.linspace(-<span class=number>6</span>, <span class=number>6</span>, <span class=number>30</span>)</span><br><span class=line>y = np.linspace(-<span class=number>6</span>, <span class=number>6</span>, <span class=number>30</span>)</span><br><span class=line><span class=comment># 生成 x、y 网格化数据</span></span><br><span class=line>X, Y = np.meshgrid(x, y)</span><br><span class=line><span class=comment># 准备 z 值</span></span><br><span class=line>Z = f(X, Y)</span><br><span class=line></span><br><span class=line><span class=comment># 绘制图像</span></span><br><span class=line>fig = plt.figure()</span><br><span class=line>ax = plt.axes(projection=<span class=string>"3d"</span>)</span><br><span class=line></span><br><span class=line><span class=comment># 调用绘制线框图的函数 plot_wireframe()</span></span><br><span class=line>ax.plot_wireframe(X, Y, Z, color=<span class=string>"black"</span>)</span><br><span class=line>ax.set_title(<span class=string>"wireframe"</span>)</span><br><span class=line>plt.show()</span><br></pre></table></figure><p><img alt src=images/notes/matplotlib/1.26.4.svg><ul><li><strong>3D 曲面图</strong>表示一个指定的因变量 y 与两个自变量 x 和 z 之间的函数关系。</ul><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br></pre><td class=code><pre><span class=line><span class=keyword>from</span> mpl_toolkits <span class=keyword>import</span> mplot3d</span><br><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line><span class=keyword>import</span> matplotlib.pyplot <span class=keyword>as</span> plt</span><br><span class=line></span><br><span class=line><span class=comment># 求向量积 (outer() 方法又称外积）</span></span><br><span class=line>x = np.outer(np.linspace(-<span class=number>2</span>, <span class=number>2</span>, <span class=number>30</span>), np.ones(<span class=number>30</span>))</span><br><span class=line><span class=comment># 矩阵转置</span></span><br><span class=line>y = x.copy().T</span><br><span class=line><span class=comment># 数据 z</span></span><br><span class=line>z = np.cos(x**<span class=number>2</span> + y**<span class=number>2</span>)</span><br><span class=line><span class=comment># 绘制曲面图</span></span><br><span class=line></span><br><span class=line>fig = plt.figure()</span><br><span class=line>ax = plt.axes(projection=<span class=string>"3d"</span>)</span><br><span class=line></span><br><span class=line><span class=comment># 调用 plot_surface() 函数</span></span><br><span class=line>ax.plot_surface(x, y, z, cmap=<span class=string>"viridis"</span>, edgecolor=<span class=string>"none"</span>)</span><br><span class=line>ax.set_title(<span class=string>"Surface plot"</span>)</span><br><span class=line>plt.show()</span><br></pre></table></figure><p><img alt src=images/notes/matplotlib/1.26.5.svg><h1 id=part-ii-seaborn><a class=markdownIt-Anchor href=#part-ii-seaborn></a> Part II. seaborn</h1><h2 id=seaborn><a class=markdownIt-Anchor href=#seaborn></a> seaborn</h2><ul><li><strong>seaborn <strong>是一个基于 matplotlib 的 Python 数据可视化库。它</strong>为创建有吸引力的图形提供了高级接口</strong>。<li>seaborn 提供了很多东西，你可以使用一行代码创建图形，而这在 matplotlib 需要十来行。<li>seaborn 可以方便地处理 DataFrame 数据。<li>可以通过以下代码导入：<br> <code>import seaborn as sns</code><li>提供了用于<strong>检查多个变量之间关系</strong>的 API<li>专门<strong>支持对分类变量分析或聚合统计</strong><li>支持<strong>单变量或双变量分布的可视化和比较</strong><li><strong>不同线性回归模型的构建和可视化</strong><li><strong>查看复杂数据集的整体结构</strong><li><strong>可构造多图网格</strong>，轻松实现复杂的可视化</ul><h2 id=导入数据集><a class=markdownIt-Anchor href=#导入数据集></a> 导入数据集</h2><ul><li>在本节中，我们将使用免费的 Iris 数据集。可以使用<code>pandas.read_csv</code>方法加载该数据集。</ul><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> pandas <span class=keyword>as</span> pd</span><br><span class=line></span><br><span class=line>iris = pd.read_csv(<span class=string>'iris.csv'</span>, names=[<span class=string>'sepal_length'</span>, <span class=string>'sepal_width'</span>,<span class=string>'petal_length'</span>, <span class=string>'petal_width'</span>, <span class=string>'class'</span>])</span><br><span class=line>iris.head()</span><br></pre></table></figure><h2 id=散点图-2><a class=markdownIt-Anchor href=#散点图-2></a> 散点图</h2><ul><li>可以使用<code>.scatterplot</code>方法创建散点图，我们只需要将数据作为附加参数即可。</ul><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>sns.scatterplot(x=<span class=string>'sepal_length'</span>, y=<span class=string>'sepal_width'</span>, data=iris)</span><br></pre></table></figure><p><img alt src=images/notes/matplotlib/2.3.1.svg><ul><li>我们还可以使用 <strong><code>hue</code> 参数</strong>按类别突出显示数据点，这要比 matplotlib 中简单得多。</ul><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>sns.scatterplot(x=<span class=string>"sepal_length"</span>, y=<span class=string>"sepal_width"</span>, hue=<span class=string>"class"</span>, data=iris)</span><br></pre></table></figure><p><img alt src=images/notes/matplotlib/2.3.2.svg><ul><li><strong>hue</strong> 用于对将产生不同颜色的点的变量进行分组。</ul><h2 id=折线图-2><a class=markdownIt-Anchor href=#折线图-2></a> 折线图</h2><ul><li>要创建折线图，请使用 <strong><code>sns.lineplot</code>方法</strong>。唯一需要的参数是数据，在例子中，数据是来自 Iris 数据集的四个列。</ul><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>sns.lineplot(data=iris.drop([<span class=string>'class'</span>], axis=<span class=number>1</span>))</span><br></pre></table></figure><p><img alt src=images/notes/matplotlib/2.4.1.svg><ul><li>在 pandas 中，<code>drop()</code>函数用于删除行。<code>axis=1</code>告诉 Python 在列而不是行上进行删除。</ul><h2 id=直方图-2><a class=markdownIt-Anchor href=#直方图-2></a> 直方图</h2><ul><li>在 seaborn 中可以使用<code>sns.distplot</code>方法创建直方图。我们需要将要绘制的列传递给它，seaborn 将自动计算每个数值范围内值的数量。我们还可以将箱子的数量传递给它。</ul><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line>wine_reviews = pd.read_csv(<span class=string>"winemag-data-130k-v2.csv"</span>)</span><br><span class=line>sns.distplot(wine_reviews[<span class=string>"points"</span>], bins=<span class=number>10</span>, kde=<span class=literal>False</span>)</span><br></pre></table></figure><p><img alt src=images/notes/matplotlib/2.5.1.svg><ul><li><strong>winemag-data-130k-v2.csv</strong> 数据集包含从 <strong><a href=http://winemag.com rel=noopener target=_blank>winemag.com</a></strong> 在 2017 年 6 月 15 日发布的葡萄酒评论数据。<li><strong>kde</strong> 用于决定是否绘制高斯核密度估计。</ul><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>sns.distplot(wine_reviews[<span class=string>'points'</span>], bins=<span class=number>10</span>, kde=<span class=literal>True</span>)</span><br></pre></table></figure><p><img alt src=images/notes/matplotlib/2.5.2.svg><h2 id=柱形图-2><a class=markdownIt-Anchor href=#柱形图-2></a> 柱形图</h2><ul><li>在 seaborn 中，可以使用<code>sns.countplot</code>方法创建柱形图以显示每个类别中观测值的数量。</ul><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>sns.countplot(x=<span class=string>"points"</span>, data=wine_reviews, order=<span class=built_in>sorted</span>(wine_reviews[<span class=string>"points"</span>].unique()), palette=sns.color_palette(<span class=string>"husl"</span>, <span class=number>20</span>))</span><br></pre></table></figure><p><img alt src=images/notes/matplotlib/2.6.1.svg><h2 id=盒图-2><a class=markdownIt-Anchor href=#盒图-2></a> 盒图</h2><ul><li>盒须图主要包括六个统计指标：lower limit （下限）, first quartile （第一四分位数）, median （中位数）, third quartile （第三四分位数）, upper limit （上限） and outliers （异常值）.<li>可以使用 <strong><code>sns.boxplot</code></strong> 方法创建盒须图。注意，创建盒须图需要传递 x 和 y 两个列的值。</ul><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line>df = wine_reviews[(wine_reviews[<span class=string>'points'</span>]>=<span class=number>95</span>) & (wine_reviews[<span class=string>'price'</span>]<<span class=number>1000</span>)]</span><br><span class=line>sns.boxplot(<span class=string>'points'</span>, <span class=string>'price'</span>, data=df)</span><br></pre></table></figure><p><img alt src=images/notes/matplotlib/2.7.1.svg><h2 id=密度图><a class=markdownIt-Anchor href=#密度图></a> 密度图</h2><ul><li><strong>密度图是数据的图形表示，其中矩阵中包含的各个值表示为颜色</strong>。<li>密度图非常适合<strong>探索数据集中特征的相关性</strong>。<li>要获取数据集中特征的相关性，我们可以调用＜dataset＞.<strong>corr()</strong>，这是 pandas 库 dataframe 方法，<strong>其将给出各列的相关矩阵</strong>。<li>我们现在可以使用 matplotlib 或 seaborn 来创建密度图。</ul><h3 id=matplotlib-2><a class=markdownIt-Anchor href=#matplotlib-2></a> matplotlib</h3><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br></pre><td class=code><pre><span class=line><span class=keyword>import</span> pandas <span class=keyword>as</span> pd</span><br><span class=line><span class=keyword>import</span> numpy <span class=keyword>as</span> np</span><br><span class=line><span class=keyword>import</span> matplotlib.pyplot <span class=keyword>as</span> plt</span><br><span class=line></span><br><span class=line>iris = pd.read_csv(<span class=string>"iris.csv"</span>, names=[<span class=string>"sepal_length"</span>, <span class=string>"sepal_width"</span>, <span class=string>"petal_length"</span>, <span class=string>"petal_width"</span>, <span class=string>"class"</span>])</span><br><span class=line></span><br><span class=line><span class=comment># get correlation matrix</span></span><br><span class=line>corr = iris.drop([<span class=string>"class"</span>], axis=<span class=number>1</span>).corr()</span><br><span class=line>fig, ax = plt.subplots()</span><br><span class=line><span class=comment># create heatmap</span></span><br><span class=line>im = ax.imshow(corr.values)</span><br><span class=line></span><br><span class=line><span class=comment># set labels</span></span><br><span class=line>ax.set_xticks(np.arange(<span class=built_in>len</span>(corr.columns)))</span><br><span class=line>ax.set_yticks(np.arange(<span class=built_in>len</span>(corr.columns)))</span><br><span class=line>ax.set_xticklabels(corr.columns)</span><br><span class=line>ax.set_yticklabels(corr.columns)</span><br><span class=line></span><br><span class=line><span class=comment># Rotate the tick labels and set their alignment.</span></span><br><span class=line>plt.setp(ax.get_xticklabels(), rotation=<span class=number>45</span>, ha=<span class=string>"right"</span>, rotation_mode=<span class=string>"anchor"</span>)</span><br><span class=line>plt.show()</span><br></pre></table></figure><p><img alt src=images/notes/matplotlib/2.8.1.svg><ul><li>要向密度图添加注释，我们需要添加两个 for 循环：</ul><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br></pre><td class=code><pre><span class=line><span class=comment># 获取相关矩阵</span></span><br><span class=line>corr = iris.drop([<span class=string>"class"</span>], axis=<span class=number>1</span>).corr()</span><br><span class=line>fig, ax = plt.subplots()</span><br><span class=line></span><br><span class=line><span class=comment># 创建热力图</span></span><br><span class=line>im = ax.imshow(corr.values)</span><br><span class=line></span><br><span class=line><span class=comment># 设置标签</span></span><br><span class=line>ax.set_xticks(np.arange(<span class=built_in>len</span>(corr.columns)))  <span class=comment># 指定 x 轴的刻度</span></span><br><span class=line>ax.set_yticks(np.arange(<span class=built_in>len</span>(corr.columns)))  <span class=comment># 指定 y 轴的刻度</span></span><br><span class=line>ax.set_xticklabels(corr.columns)</span><br><span class=line>ax.set_yticklabels(corr.columns)</span><br><span class=line></span><br><span class=line><span class=comment># 旋转刻度标签并设置对齐方式</span></span><br><span class=line>plt.setp(ax.get_xticklabels(), rotation=<span class=number>45</span>, ha=<span class=string>"right"</span>, rotation_mode=<span class=string>"anchor"</span>)</span><br><span class=line></span><br><span class=line><span class=comment># 遍历数据维度并创建文本注释</span></span><br><span class=line>columns = [<span class=number>0</span>, <span class=number>1</span>, <span class=number>2</span>, <span class=number>3</span>]</span><br><span class=line><span class=keyword>for</span> i <span class=keyword>in</span> columns:</span><br><span class=line>    <span class=keyword>for</span> j <span class=keyword>in</span> columns:</span><br><span class=line>        text = ax.text(j, i, np.around(corr.iloc[i, j], decimals=<span class=number>2</span>), ha=<span class=string>"center"</span>, va=<span class=string>"center"</span>, color=<span class=string>"black"</span>)</span><br></pre></table></figure><p><img alt src=images/notes/matplotlib/2.8.2.svg><h3 id=seaborn-2><a class=markdownIt-Anchor href=#seaborn-2></a> seaborn</h3><ul><li>seaborn 使得创建密度图和添加注释变得更加容易：</ul><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>sns.heatmap(iris.drop([<span class=string>"class"</span>], axis=<span class=number>1</span>).corr(), annot=<span class=literal>True</span>)</span><br></pre></table></figure><p><img alt src=images/notes/matplotlib/2.8.3.svg><h2 id=分面faceting><a class=markdownIt-Anchor href=#分面faceting></a> 分面（Faceting）</h2><ul><li><strong>分面是将数据变量分解成多个子图，并将这些子图组合成单个图形的行为</strong>。<li>如果想快速浏览数据集，分面非常有用。<li>要在 seaborn 中使用分面，可以使用 <strong>FaceGrid</strong>。 <ul><li>首先，需要定义 FaceGrid，并将数据以及行或列传递给它，这将用于拆分数据。<li>然后，需要在 FaceGrid 对象上调用** map 函数**，并定义要使用的绘图类型以及要绘制的列。</ul></ul><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br></pre><td class=code><pre><span class=line>g = sns.FacetGrid(iris, col=<span class=string>"class"</span>)</span><br><span class=line>g = g.<span class=built_in>map</span>(sns.kdeplot, <span class=string>"sepal_length"</span>)</span><br></pre></table></figure><p><img alt src=images/notes/matplotlib/2.9.1.svg><ul><li><strong><code>FacetGrid</code></strong> 将数据集映射到多个轴上，这些轴排列在与数据集中变量级别相对应的行或列网格中。<li><strong><code>FacetGrid.map</code></strong> 函数将绘图函数应用于每个方面的数据子集。</ul><h2 id=pairplot联合分布图><a class=markdownIt-Anchor href=#pairplot联合分布图></a> Pairplot（联合分布图）</h2><ul><li>seaborns 的 <strong>pairplot</strong> 和 pandas 的 <strong>scatter_matrix</strong> 能够在数据集中绘制成对变量之间关系的网格。</ul><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br></pre><td class=code><pre><span class=line>sns.pairplot(iris)</span><br></pre></table></figure><p><img alt src=images/notes/matplotlib/2.10.1.svg><figure class="highlight python"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br></pre><td class=code><pre><span class=line><span class=keyword>from</span> pandas.plotting <span class=keyword>import</span> scatter_matrix</span><br><span class=line></span><br><span class=line>fig, ax = plt.subplots(figsize=(<span class=number>12</span>,<span class=number>12</span>))</span><br><span class=line>scatter_matrix(iris, alpha=<span class=number>1</span>, ax=ax)</span><br></pre></table></figure><p><img alt src=images/notes/matplotlib/2.10.2.svg><ul><li>可以看到，联合分布图总是需要两个变量进行绘制。图的对角线用直方图填充，其他图是散点图。</ul><h1 id=part-iii-本章总结><a class=markdownIt-Anchor href=#part-iii-本章总结></a> Part III. 本章总结</h1><p>在本章中，我们学习了如何使用 Matplotlib 和 Seaborn 进行数据可视化。这两个库在 Python 数据科学领域中非常重要，提供了丰富的图形绘制功能。以下是对本章内容的总结：<h2 id=matplotlib-3><a class=markdownIt-Anchor href=#matplotlib-3></a> Matplotlib</h2><h3 id=基础绘图><a class=markdownIt-Anchor href=#基础绘图></a> 基础绘图</h3><ul><li><strong>安装与导入</strong>：使用 <code>pip install matplotlib</code> 安装，<code>import matplotlib.pyplot as plt</code> 导入。<li><strong>基本用法</strong>：通过 <code>plt.plot()</code>、<code>plt.show()</code> 等函数创建和显示图形。<li><strong>常用图形</strong>：折线图、柱形图、条形图、直方图、散点图、饼图、盒图、小提琴图等。</ul><h3 id=高级绘图><a class=markdownIt-Anchor href=#高级绘图></a> 高级绘图</h3><ul><li><strong>子图与布局</strong>：使用 <code>subplot()</code> 和 <code>add_subplot()</code> 创建多个子图。<li><strong>双轴图</strong>：通过 <code>twinx()</code> 和 <code>twiny()</code> 实现双轴图。<li><strong>3D 绘图</strong>：使用 <code>mpl_toolkits.mplot3d</code> 创建 3D 图形，如线图、散点图、等高线图等。</ul><h3 id=自定义与美化><a class=markdownIt-Anchor href=#自定义与美化></a> 自定义与美化</h3><ul><li><strong>文本与注释</strong>：通过 <code>text()</code> 和 <code>annotate()</code> 添加文本和注释。<li><strong>网格与刻度</strong>：使用 <code>grid()</code> 添加网格，<code>set_xticks()</code> 和 <code>set_yticks()</code> 设置刻度。<li><strong>颜色与填充</strong>：<code>fill_between()</code> 实现区域填充，设置颜色和透明度。</ul><h2 id=seaborn-3><a class=markdownIt-Anchor href=#seaborn-3></a> Seaborn</h2><h3 id=基础绘图-2><a class=markdownIt-Anchor href=#基础绘图-2></a> 基础绘图</h3><ul><li><strong>导入与数据集</strong>：通过 <code>import seaborn as sns</code> 导入，方便处理 DataFrame 数据。<li><strong>常用图形</strong>：散点图、折线图、直方图、柱形图、盒图、密度图等。</ul><h3 id=高级绘图-2><a class=markdownIt-Anchor href=#高级绘图-2></a> 高级绘图</h3><ul><li><strong>分面与网格</strong>：使用 <code>FacetGrid</code> 实现数据按类别分面的可视化。<li><strong>联合分布图</strong>：<code>pairplot()</code> 绘制成对变量之间关系的网格。</ul><h3 id=323-自定义与美化><a class=markdownIt-Anchor href=#323-自定义与美化></a> 3.2.3 自定义与美化</h3><ul><li><strong>颜色与风格</strong>：Seaborn 提供多种配色方案和风格选项，便于创建美观的图形。<li><strong>注释与标签</strong>：通过参数如 <code>hue</code>、<code>annot</code> 等实现更丰富的图形标注。</ul><h2 id=总结><a class=markdownIt-Anchor href=#总结></a> 总结</h2><p>Matplotlib 和 Seaborn 各有优势：<ul><li><strong>Matplotlib</strong>：更底层，灵活性高，适合需要精细控制的场景。<li><strong>Seaborn</strong>：基于 Matplotlib，提供更高级的接口，适合快速绘制美观图形。</ul><p>通过本章的学习，我们可以更好地利用这两个库进行数据分析和可视化，提升数据洞察力。希望大家在实践中多多练习，熟练掌握这些工具的使用。</div><footer class=post-footer><div class=reward-container><div>我很可爱，请给我钱！</div><button>赞赏</button><div class=post-reward><div><img alt="Tarik Von 微信" src=/images/wechatpay.png><span>微信</span></div></div></div><div class=post-tags><a href=/tags/Python/ rel=tag># Python</a><a href=/tags/Python3/ rel=tag># Python3</a><a href=/tags/module/ rel=tag># module</a><a href=/tags/Matplotlib/ rel=tag># Matplotlib</a><a href=/tags/Seaborn/ rel=tag># Seaborn</a></div><div class=post-nav><div class=post-nav-item><a title="华为 HCIP - AI EI Developer 学习笔记" href=/2024/11/05/note-HCIP/ rel=prev> <i class="fa fa-angle-left"></i> 华为 HCIP - AI EI Developer 学习笔记 </a></div><div class=post-nav-item></div></div></footer></article></div></div></main><footer class=footer><div class=footer-inner><div class=copyright>© <span itemprop=copyrightYear>2025</span><span class=with-love> <i class="fa fa-heart"></i> </span><span class=author itemprop=copyrightHolder>Tarik Von</span><span> </span><a href=https://beian.miit.gov.cn/ target=_blank>闽ICP备2025086651号-1</a></div><div class=wordcount><span class=post-meta-item> <span class=post-meta-item-icon> <i class="fa fa-chart-line"></i> </span> <span title=站点总字数>42k</span> </span><span class=post-meta-item> <span class=post-meta-item-icon> <i class="fa fa-coffee"></i> </span> <span title=站点阅读时长>2:32</span> </span></div><div class=powered-by>由 <a href=https://www.tarikvon.cn:8001/>Hexo</a> & <a href=https://theme-next.js.org/pisces/ rel=noopener target=_blank>NexT.Pisces</a> 强力驱动</div><script color=126,0,255 count=99 opacity=0.5 src=/lib/theme-next-canvas-nest/canvas-nest.js zindex=-1></script></div></footer><div aria-label=返回顶部 class=back-to-top role=button><i class="fa fa-arrow-up fa-lg"></i><span>0%</span></div><div class=reading-progress-bar></div><noscript><div class=noscript-warning>Theme NexT works best with JavaScript enabled</div></noscript><script alpha=0.6 size=300 src=https://cdnjs.cloudflare.com/ajax/libs/ribbon.js/1.0.2/ribbon.min.js zindex=-1></script><script crossorigin=anonymous integrity=sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY= src=https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js></script><script crossorigin=anonymous integrity=sha256-vxLn1tSKWD4dqbMRyv940UYw4sXgMtYcK6reefzZrao= src=https://cdnjs.cloudflare.com/ajax/libs/next-theme-pjax/0.6.0/pjax.min.js></script><script src=/js/comments.js></script><script src=/js/utils.js></script><script src=/js/motion.js></script><script src=/js/next-boot.js></script><script src=/js/pjax.js></script><script class=next-config data-name=enableMath type=application/json>false</script><link crossorigin=anonymous href=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css integrity=sha256-UF1fgpAiu3tPJN/uCqEUHNe7pnr+QR0SQDNfgglgtcM= rel=stylesheet>